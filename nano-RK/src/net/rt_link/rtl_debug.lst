   1               		.file	"rtl_debug.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.global __do_copy_data
   8               		.global __do_clear_bss
  11               		.text
  12               	.Ltext0:
 125               	.global	rtl_debug_time_update
 127               	rtl_debug_time_update:
 128               		.stabd	46,0,0
   1:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** /******************************************************************************
   2:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  Nano-RK, a real-time operating system for sensor networks.
   3:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  Copyright (C) 2007, Real-Time and Multimedia Lab, Carnegie Mellon University
   4:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  All rights reserved.
   5:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *
   6:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  This is the Open Source Version of Nano-RK included as part of a Dual
   7:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  Licensing Model. If you are unsure which license to use please refer to:
   8:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  http://www.nanork.org/nano-RK/wiki/Licensing
   9:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *
  10:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  This program is free software: you can redistribute it and/or modify
  11:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  it under the terms of the GNU General Public License as published by
  12:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  the Free Software Foundation, version 2.0 of the License.
  13:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *
  14:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  This program is distributed in the hope that it will be useful,
  15:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  16:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  17:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  GNU General Public License for more details.
  18:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *
  19:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  You should have received a copy of the GNU General Public License
  20:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  21:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *
  22:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  Contributing Authors (specific to this file):
  23:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *  Anthony Rowe
  24:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** *******************************************************************************/
  25:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  26:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  27:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** #include <rtl_debug.h>
  28:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** #include <nrk.h>
  29:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** #include <include.h>
  30:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  31:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** void rtl_debug_time_update(uint16_t offset)
  32:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 130               	.LM0:
 131               	.LFBB1:
 132               	/* prologue: function */
 133               	/* frame size = 0 */
  33:../../../../nano-RK/src/net/rt_link/rtl_debug.c ****     rtl_drift_rate=offset-prev_offset;
 135               	.LM1:
 136 0000 2091 0000 		lds r18,prev_offset
 137 0004 3091 0000 		lds r19,(prev_offset)+1
 138 0008 AC01      		movw r20,r24
 139 000a 421B      		sub r20,r18
 140 000c 530B      		sbc r21,r19
 141 000e 5093 0000 		sts (rtl_drift_rate)+1,r21
 142 0012 4093 0000 		sts rtl_drift_rate,r20
  34:../../../../nano-RK/src/net/rt_link/rtl_debug.c ****     prev_offset=offset;	
 144               	.LM2:
 145 0016 9093 0000 		sts (prev_offset)+1,r25
 146 001a 8093 0000 		sts prev_offset,r24
 147               	/* epilogue start */
  35:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
 149               	.LM3:
 150 001e 0895      		ret
 152               	.Lscope1:
 154               		.stabd	78,0,0
 156               	.global	rtl_debug_time_get_drift
 158               	rtl_debug_time_get_drift:
 159               		.stabd	46,0,0
  36:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  37:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** int16_t rtl_debug_time_get_drift()
  38:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 161               	.LM4:
 162               	.LFBB2:
 163               	/* prologue: function */
 164               	/* frame size = 0 */
  39:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** return rtl_drift_rate;
  40:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
 166               	.LM5:
 167 0020 8091 0000 		lds r24,rtl_drift_rate
 168 0024 9091 0000 		lds r25,rtl_drift_rate+1
 169               	/* epilogue start */
 170 0028 0895      		ret
 172               	.Lscope2:
 174               		.stabd	78,0,0
 176               	.global	rtl_debug_init
 178               	rtl_debug_init:
 179               		.stabd	46,0,0
  41:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  42:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** void rtl_debug_init()
  43:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 181               	.LM6:
 182               	.LFBB3:
 183               	/* prologue: function */
 184               	/* frame size = 0 */
 186               	.LM7:
 187 002a E0E0      		ldi r30,lo8(pkt_log)
 188 002c F0E0      		ldi r31,hi8(pkt_log)
  44:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t i;
  45:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** for(i=0; i<MAX_PKT_LOG/8; i++ )
  46:../../../../nano-RK/src/net/rt_link/rtl_debug.c ****         pkt_log[i]=0xFF;
 190               	.LM8:
 191 002e 8FEF      		ldi r24,lo8(-1)
 192               	.L6:
 193 0030 8193      		st Z+,r24
 195               	.LM9:
 196 0032 90E0      		ldi r25,hi8(pkt_log+8)
 197 0034 E030      		cpi r30,lo8(pkt_log+8)
 198 0036 F907      		cpc r31,r25
 199 0038 01F4      		brne .L6
  47:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** for(i=0; i<MAX_TSYNC_LOG/8; i++ )
  48:../../../../nano-RK/src/net/rt_link/rtl_debug.c ****         tsync_log[i]=0xFF;
 201               	.LM10:
 202 003a 8093 0000 		sts tsync_log,r24
  49:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** _dbg_index=0;
 204               	.LM11:
 205 003e 1092 0000 		sts _dbg_index,__zero_reg__
  50:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** prev_offset=0;
 207               	.LM12:
 208 0042 1092 0000 		sts (prev_offset)+1,__zero_reg__
 209 0046 1092 0000 		sts prev_offset,__zero_reg__
 210               	/* epilogue start */
  51:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
 212               	.LM13:
 213 004a 0895      		ret
 215               	.Lscope3:
 217               		.stabd	78,0,0
 220               	.global	bit_count
 222               	bit_count:
 223               		.stabd	46,0,0
  52:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  53:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t bit_count(uint8_t n)
  54:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 225               	.LM14:
 226               	.LFBB4:
 227               	/* prologue: function */
 228               	/* frame size = 0 */
  55:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** n = (n & 0x55) + ((n>>1) & 0x55);
 230               	.LM15:
 231 004c 282F      		mov r18,r24
 232 004e 2575      		andi r18,lo8(85)
 233 0050 982F      		mov r25,r24
 234 0052 9695      		lsr r25
 235 0054 9575      		andi r25,lo8(85)
 236 0056 920F      		add r25,r18
  56:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** n = (n & 0x33) + ((n>>2) & 0x33);
 238               	.LM16:
 239 0058 892F      		mov r24,r25
 240 005a 8373      		andi r24,lo8(51)
 241 005c 9695      		lsr r25
 242 005e 9695      		lsr r25
 243 0060 9373      		andi r25,lo8(51)
 244 0062 980F      		add r25,r24
  57:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** n = (n & 0x0F) + ((n>>4) & 0x0F);
 246               	.LM17:
 247 0064 892F      		mov r24,r25
 248 0066 8F70      		andi r24,lo8(15)
 249 0068 9295      		swap r25
 250 006a 9F70      		andi r25,lo8(15)
  58:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** return n;
  59:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
 252               	.LM18:
 253 006c 890F      		add r24,r25
 254               	/* epilogue start */
 255 006e 0895      		ret
 257               	.Lscope4:
 259               		.stabd	78,0,0
 261               	.global	rtl_debug_get_pkt_loss
 263               	rtl_debug_get_pkt_loss:
 264               		.stabd	46,0,0
  60:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  61:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t rtl_debug_get_pkt_loss()
  62:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 266               	.LM19:
 267               	.LFBB5:
 268 0070 1F93      		push r17
 269 0072 CF93      		push r28
 270 0074 DF93      		push r29
 271               	/* prologue: function */
 272               	/* frame size = 0 */
 274               	.LM20:
 275 0076 C0E0      		ldi r28,lo8(pkt_log)
 276 0078 D0E0      		ldi r29,hi8(pkt_log)
 278               	.LM21:
 279 007a 10E0      		ldi r17,lo8(0)
 280               	.L13:
  63:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t i,j,cnt,tmp;
  64:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** cnt=0;
  65:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** for(i=0; i<MAX_PKT_LOG/8; i++ )
  66:../../../../nano-RK/src/net/rt_link/rtl_debug.c ****         cnt+=bit_count(pkt_log[i]);
 282               	.LM22:
 283 007c 8991      		ld r24,Y+
 284 007e 0E94 0000 		call bit_count
 285 0082 180F      		add r17,r24
 287               	.LM23:
 288 0084 80E0      		ldi r24,hi8(pkt_log+8)
 289 0086 C030      		cpi r28,lo8(pkt_log+8)
 290 0088 D807      		cpc r29,r24
 291 008a 01F4      		brne .L13
  67:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** return cnt;
  68:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
 293               	.LM24:
 294 008c 812F      		mov r24,r17
 295               	/* epilogue start */
 296 008e DF91      		pop r29
 297 0090 CF91      		pop r28
 298 0092 1F91      		pop r17
 299 0094 0895      		ret
 304               	.Lscope5:
 306               		.stabd	78,0,0
 308               	.global	rtl_debug_get_tsync_loss
 310               	rtl_debug_get_tsync_loss:
 311               		.stabd	46,0,0
  69:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  70:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t rtl_debug_get_tsync_loss()
  71:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 313               	.LM25:
 314               	.LFBB6:
 315               	/* prologue: function */
 316               	/* frame size = 0 */
  72:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t i,j,cnt,tmp;
  73:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** cnt=0;
  74:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** for(i=0; i<MAX_TSYNC_LOG/8; i++ )
  75:../../../../nano-RK/src/net/rt_link/rtl_debug.c ****         cnt+=bit_count(tsync_log[i]);
 318               	.LM26:
 319 0096 8091 0000 		lds r24,tsync_log
 320 009a 0E94 0000 		call bit_count
 321               	/* epilogue start */
  76:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** return cnt;
  77:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
 323               	.LM27:
 324 009e 0895      		ret
 326               	.Lscope6:
 328               		.stabd	78,0,0
 330               	.global	rtl_debug_rx_pkt
 332               	rtl_debug_rx_pkt:
 333               		.stabd	46,0,0
  78:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  79:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  80:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  81:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** void rtl_debug_rx_pkt()
  82:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 335               	.LM28:
 336               	.LFBB7:
 337               	/* prologue: function */
 338               	/* frame size = 0 */
  83:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t offset;
  84:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** offset=_dbg_index/8;
 340               	.LM29:
 341 00a0 2091 0000 		lds r18,_dbg_index
  85:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** pkt_log[offset]|=(1<<(7-(_dbg_index%8)));
 343               	.LM30:
 344 00a4 E22F      		mov r30,r18
 345 00a6 E695      		lsr r30
 346 00a8 E695      		lsr r30
 347 00aa E695      		lsr r30
 348 00ac F0E0      		ldi r31,lo8(0)
 349 00ae E050      		subi r30,lo8(-(pkt_log))
 350 00b0 F040      		sbci r31,hi8(-(pkt_log))
 351 00b2 822F      		mov r24,r18
 352 00b4 90E0      		ldi r25,lo8(0)
 353 00b6 8095      		com r24
 354 00b8 9095      		com r25
 355 00ba 8770      		andi r24,lo8(7)
 356 00bc 9070      		andi r25,hi8(7)
 357 00be 41E0      		ldi r20,lo8(1)
 358 00c0 50E0      		ldi r21,hi8(1)
 359 00c2 00C0      		rjmp 2f
 360 00c4 440F      	1:	lsl r20
 361 00c6 551F      		rol r21
 362 00c8 8A95      	2:	dec r24
 363 00ca 02F4      		brpl 1b
 364 00cc 8081      		ld r24,Z
 365 00ce 842B      		or r24,r20
 366 00d0 8083      		st Z,r24
  86:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** _dbg_index++;
 368               	.LM31:
 369 00d2 2F5F      		subi r18,lo8(-(1))
 370 00d4 2093 0000 		sts _dbg_index,r18
  87:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** if(_dbg_index>MAX_PKT_LOG) _dbg_index=0;
 372               	.LM32:
 373 00d8 2134      		cpi r18,lo8(65)
 374 00da 00F0      		brlo .L20
 375 00dc 1092 0000 		sts _dbg_index,__zero_reg__
 376               	.L20:
 377 00e0 0895      		ret
 379               	.Lscope7:
 381               		.stabd	78,0,0
 383               	.global	rtl_debug_dropped_pkt
 385               	rtl_debug_dropped_pkt:
 386               		.stabd	46,0,0
  88:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
  89:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  90:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** void rtl_debug_dropped_pkt()
  91:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 388               	.LM33:
 389               	.LFBB8:
 390               	/* prologue: function */
 391               	/* frame size = 0 */
  92:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t offset;
  93:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** offset=_dbg_index/8;
 393               	.LM34:
 394 00e2 2091 0000 		lds r18,_dbg_index
  94:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** pkt_log[offset]&=~(1<<(7-(_dbg_index%8)));
 396               	.LM35:
 397 00e6 E22F      		mov r30,r18
 398 00e8 E695      		lsr r30
 399 00ea E695      		lsr r30
 400 00ec E695      		lsr r30
 401 00ee F0E0      		ldi r31,lo8(0)
 402 00f0 E050      		subi r30,lo8(-(pkt_log))
 403 00f2 F040      		sbci r31,hi8(-(pkt_log))
 404 00f4 822F      		mov r24,r18
 405 00f6 90E0      		ldi r25,lo8(0)
 406 00f8 8095      		com r24
 407 00fa 9095      		com r25
 408 00fc 8770      		andi r24,lo8(7)
 409 00fe 9070      		andi r25,hi8(7)
 410 0100 41E0      		ldi r20,lo8(1)
 411 0102 50E0      		ldi r21,hi8(1)
 412 0104 00C0      		rjmp 2f
 413 0106 440F      	1:	lsl r20
 414 0108 551F      		rol r21
 415 010a 8A95      	2:	dec r24
 416 010c 02F4      		brpl 1b
 417 010e 842F      		mov r24,r20
 418 0110 8095      		com r24
 419 0112 9081      		ld r25,Z
 420 0114 8923      		and r24,r25
 421 0116 8083      		st Z,r24
  95:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** _dbg_index++;
 423               	.LM36:
 424 0118 2F5F      		subi r18,lo8(-(1))
 425 011a 2093 0000 		sts _dbg_index,r18
  96:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** if(_dbg_index>MAX_PKT_LOG) _dbg_index=0;
 427               	.LM37:
 428 011e 2134      		cpi r18,lo8(65)
 429 0120 00F0      		brlo .L23
 430 0122 1092 0000 		sts _dbg_index,__zero_reg__
 431               	.L23:
 432 0126 0895      		ret
 434               	.Lscope8:
 436               		.stabd	78,0,0
 439               	.global	rtl_debug_get_tsync_delay
 441               	rtl_debug_get_tsync_delay:
 442               		.stabd	46,0,0
  97:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
  98:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
  99:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t rtl_debug_get_tsync_delay(uint8_t index)
 100:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 444               	.LM38:
 445               	.LFBB9:
 446               	/* prologue: function */
 447               	/* frame size = 0 */
 101:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
 102:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** if(index<MAX_TSYNC_LOG) return tsync_delay[index];
 449               	.LM39:
 450 0128 8830      		cpi r24,lo8(8)
 451 012a 00F0      		brlo .L25
 452 012c 80E0      		ldi r24,lo8(0)
 453 012e 0895      		ret
 454               	.L25:
 455 0130 E82F      		mov r30,r24
 456 0132 F0E0      		ldi r31,lo8(0)
 457 0134 E050      		subi r30,lo8(-(tsync_delay))
 458 0136 F040      		sbci r31,hi8(-(tsync_delay))
 459 0138 8081      		ld r24,Z
 103:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** return 0;
 104:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
 461               	.LM40:
 462 013a 0895      		ret
 464               	.Lscope9:
 466               		.stabd	78,0,0
 468               	.global	rtl_debug_rx_tsync
 470               	rtl_debug_rx_tsync:
 471               		.stabd	46,0,0
 105:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
 106:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
 107:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** void rtl_debug_rx_tsync()
 108:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 473               	.LM41:
 474               	.LFBB10:
 475               	/* prologue: function */
 476               	/* frame size = 0 */
 109:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t offset;
 110:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** offset=_tsync_index/8;
 478               	.LM42:
 479 013c 8091 0000 		lds r24,_tsync_index
 111:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** tsync_log[offset]|=(1<<(7-(_tsync_index%8)));
 481               	.LM43:
 482 0140 E82F      		mov r30,r24
 483 0142 E695      		lsr r30
 484 0144 E695      		lsr r30
 485 0146 E695      		lsr r30
 486 0148 F0E0      		ldi r31,lo8(0)
 487 014a 682F      		mov r22,r24
 488 014c 70E0      		ldi r23,lo8(0)
 489 014e E050      		subi r30,lo8(-(tsync_log))
 490 0150 F040      		sbci r31,hi8(-(tsync_log))
 491 0152 AB01      		movw r20,r22
 492 0154 4095      		com r20
 493 0156 5095      		com r21
 494 0158 4770      		andi r20,lo8(7)
 495 015a 5070      		andi r21,hi8(7)
 496 015c 21E0      		ldi r18,lo8(1)
 497 015e 30E0      		ldi r19,hi8(1)
 498 0160 00C0      		rjmp 2f
 499 0162 220F      	1:	lsl r18
 500 0164 331F      		rol r19
 501 0166 4A95      	2:	dec r20
 502 0168 02F4      		brpl 1b
 503 016a 9081      		ld r25,Z
 504 016c 922B      		or r25,r18
 505 016e 9083      		st Z,r25
 112:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** tsync_delay[_tsync_index]=0;
 507               	.LM44:
 508 0170 6050      		subi r22,lo8(-(tsync_delay))
 509 0172 7040      		sbci r23,hi8(-(tsync_delay))
 510 0174 FB01      		movw r30,r22
 511 0176 1082      		st Z,__zero_reg__
 113:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** _tsync_index++;
 513               	.LM45:
 514 0178 8F5F      		subi r24,lo8(-(1))
 515 017a 8093 0000 		sts _tsync_index,r24
 114:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** if(_tsync_index>MAX_TSYNC_LOG) _tsync_index=0;
 517               	.LM46:
 518 017e 8930      		cpi r24,lo8(9)
 519 0180 00F0      		brlo .L30
 520 0182 1092 0000 		sts _tsync_index,__zero_reg__
 521               	.L30:
 522 0186 0895      		ret
 524               	.Lscope10:
 526               		.stabd	78,0,0
 529               	.global	rtl_debug_dropped_tsync
 531               	rtl_debug_dropped_tsync:
 532               		.stabd	46,0,0
 115:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** }
 116:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** 
 117:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** void rtl_debug_dropped_tsync(uint8_t delay)
 118:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** {
 534               	.LM47:
 535               	.LFBB11:
 536               	/* prologue: function */
 537               	/* frame size = 0 */
 119:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** uint8_t offset;
 120:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** offset=_tsync_index/8;
 539               	.LM48:
 540 0188 9091 0000 		lds r25,_tsync_index
 121:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** tsync_log[offset]&=~(1<<(7-(_tsync_index%8)));
 542               	.LM49:
 543 018c E92F      		mov r30,r25
 544 018e E695      		lsr r30
 545 0190 E695      		lsr r30
 546 0192 E695      		lsr r30
 547 0194 F0E0      		ldi r31,lo8(0)
 548 0196 692F      		mov r22,r25
 549 0198 70E0      		ldi r23,lo8(0)
 550 019a E050      		subi r30,lo8(-(tsync_log))
 551 019c F040      		sbci r31,hi8(-(tsync_log))
 552 019e AB01      		movw r20,r22
 553 01a0 4095      		com r20
 554 01a2 5095      		com r21
 555 01a4 4770      		andi r20,lo8(7)
 556 01a6 5070      		andi r21,hi8(7)
 557 01a8 21E0      		ldi r18,lo8(1)
 558 01aa 30E0      		ldi r19,hi8(1)
 559 01ac 00C0      		rjmp 2f
 560 01ae 220F      	1:	lsl r18
 561 01b0 331F      		rol r19
 562 01b2 4A95      	2:	dec r20
 563 01b4 02F4      		brpl 1b
 564 01b6 2095      		com r18
 565 01b8 3081      		ld r19,Z
 566 01ba 2323      		and r18,r19
 567 01bc 2083      		st Z,r18
 122:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** tsync_delay[_tsync_index]=delay;
 569               	.LM50:
 570 01be 6050      		subi r22,lo8(-(tsync_delay))
 571 01c0 7040      		sbci r23,hi8(-(tsync_delay))
 572 01c2 FB01      		movw r30,r22
 573 01c4 8083      		st Z,r24
 123:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** _tsync_index++;
 575               	.LM51:
 576 01c6 9F5F      		subi r25,lo8(-(1))
 577 01c8 9093 0000 		sts _tsync_index,r25
 124:../../../../nano-RK/src/net/rt_link/rtl_debug.c **** if(_tsync_index>MAX_TSYNC_LOG) _tsync_index=0;
 579               	.LM52:
 580 01cc 9930      		cpi r25,lo8(9)
 581 01ce 00F0      		brlo .L33
 582 01d0 1092 0000 		sts _tsync_index,__zero_reg__
 583               	.L33:
 584 01d4 0895      		ret
 586               	.Lscope11:
 588               		.stabd	78,0,0
 589               		.comm _nrk_signal_list,4,1
 590               		.comm nrk_idle_task_stk,128,1
 591               		.comm nrk_kernel_stk_ptr,2,1
 592               		.comm prev_offset,2,1
 593               		.comm rtl_drift_rate,2,1
 594               		.comm _tsync_index,1,1
 595               		.comm _dbg_index,1,1
 596               		.comm pkt_log,8,1
 597               		.comm tsync_log,8,1
 598               		.comm tsync_delay,8,1
 610               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 rtl_debug.c
     /tmp/ccWpjhud.s:2      *ABS*:0000003f __SREG__
     /tmp/ccWpjhud.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccWpjhud.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccWpjhud.s:5      *ABS*:00000000 __tmp_reg__
     /tmp/ccWpjhud.s:6      *ABS*:00000001 __zero_reg__
     /tmp/ccWpjhud.s:127    .text:00000000 rtl_debug_time_update
                            *COM*:00000002 prev_offset
                            *COM*:00000002 rtl_drift_rate
     /tmp/ccWpjhud.s:158    .text:00000020 rtl_debug_time_get_drift
     /tmp/ccWpjhud.s:178    .text:0000002a rtl_debug_init
                            *COM*:00000008 pkt_log
                            *COM*:00000008 tsync_log
                            *COM*:00000001 _dbg_index
     /tmp/ccWpjhud.s:222    .text:0000004c bit_count
     /tmp/ccWpjhud.s:263    .text:00000070 rtl_debug_get_pkt_loss
     /tmp/ccWpjhud.s:310    .text:00000096 rtl_debug_get_tsync_loss
     /tmp/ccWpjhud.s:332    .text:000000a0 rtl_debug_rx_pkt
     /tmp/ccWpjhud.s:385    .text:000000e2 rtl_debug_dropped_pkt
     /tmp/ccWpjhud.s:441    .text:00000128 rtl_debug_get_tsync_delay
                            *COM*:00000008 tsync_delay
     /tmp/ccWpjhud.s:470    .text:0000013c rtl_debug_rx_tsync
                            *COM*:00000001 _tsync_index
     /tmp/ccWpjhud.s:531    .text:00000188 rtl_debug_dropped_tsync
                            *COM*:00000004 _nrk_signal_list
                            *COM*:00000080 nrk_idle_task_stk
                            *COM*:00000002 nrk_kernel_stk_ptr

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
