   1               		.file	"ulib.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.global __do_copy_data
   8               		.global __do_clear_bss
  11               		.text
  12               	.Ltext0:
 117               	.global	nrk_uart_rx_signal_get
 119               	nrk_uart_rx_signal_get:
 120               		.stabd	46,0,0
   1:../../../src/platform/firefly2_2/source/ulib.c **** /******************************************************************************
   2:../../../src/platform/firefly2_2/source/ulib.c **** *  Nano-RK, a real-time operating system for sensor networks.
   3:../../../src/platform/firefly2_2/source/ulib.c **** *  Copyright (C) 2007, Real-Time and Multimedia Lab, Carnegie Mellon University
   4:../../../src/platform/firefly2_2/source/ulib.c **** *  All rights reserved.
   5:../../../src/platform/firefly2_2/source/ulib.c **** *
   6:../../../src/platform/firefly2_2/source/ulib.c **** *  This is the Open Source Version of Nano-RK included as part of a Dual
   7:../../../src/platform/firefly2_2/source/ulib.c **** *  Licensing Model. If you are unsure which license to use please refer to:
   8:../../../src/platform/firefly2_2/source/ulib.c **** *  http://www.nanork.org/nano-RK/wiki/Licensing
   9:../../../src/platform/firefly2_2/source/ulib.c **** *
  10:../../../src/platform/firefly2_2/source/ulib.c **** *  This program is free software: you can redistribute it and/or modify
  11:../../../src/platform/firefly2_2/source/ulib.c **** *  it under the terms of the GNU General Public License as published by
  12:../../../src/platform/firefly2_2/source/ulib.c **** *  the Free Software Foundation, version 2.0 of the License.
  13:../../../src/platform/firefly2_2/source/ulib.c **** *
  14:../../../src/platform/firefly2_2/source/ulib.c **** *  This program is distributed in the hope that it will be useful,
  15:../../../src/platform/firefly2_2/source/ulib.c **** *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  16:../../../src/platform/firefly2_2/source/ulib.c **** *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  17:../../../src/platform/firefly2_2/source/ulib.c **** *  GNU General Public License for more details.
  18:../../../src/platform/firefly2_2/source/ulib.c **** *
  19:../../../src/platform/firefly2_2/source/ulib.c **** *  You should have received a copy of the GNU General Public License
  20:../../../src/platform/firefly2_2/source/ulib.c **** *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  21:../../../src/platform/firefly2_2/source/ulib.c **** *
  22:../../../src/platform/firefly2_2/source/ulib.c **** *  Contributing Authors (specific to this file):
  23:../../../src/platform/firefly2_2/source/ulib.c **** *  Anthony Rowe
  24:../../../src/platform/firefly2_2/source/ulib.c **** *  Nuno Pereira
  25:../../../src/platform/firefly2_2/source/ulib.c **** *  Zane Starr
  26:../../../src/platform/firefly2_2/source/ulib.c **** *******************************************************************************/
  27:../../../src/platform/firefly2_2/source/ulib.c **** 
  28:../../../src/platform/firefly2_2/source/ulib.c **** #include <include.h>
  29:../../../src/platform/firefly2_2/source/ulib.c **** #include <ulib.h>
  30:../../../src/platform/firefly2_2/source/ulib.c **** #include <stdio.h>
  31:../../../src/platform/firefly2_2/source/ulib.c **** #include <hal.h>
  32:../../../src/platform/firefly2_2/source/ulib.c **** #include <hal_firefly2_2.h>
  33:../../../src/platform/firefly2_2/source/ulib.c **** #include <avr/interrupt.h>
  34:../../../src/platform/firefly2_2/source/ulib.c **** #include <nrk_pin_define.h>
  35:../../../src/platform/firefly2_2/source/ulib.c **** #include <nrk_error.h>
  36:../../../src/platform/firefly2_2/source/ulib.c **** #include <nrk_events.h>
  37:../../../src/platform/firefly2_2/source/ulib.c **** 
  38:../../../src/platform/firefly2_2/source/ulib.c **** #ifdef NANORK
  39:../../../src/platform/firefly2_2/source/ulib.c **** #include <nrk_cfg.h>
  40:../../../src/platform/firefly2_2/source/ulib.c **** #endif
  41:../../../src/platform/firefly2_2/source/ulib.c **** 
  42:../../../src/platform/firefly2_2/source/ulib.c **** #ifdef NRK_UART_BUF
  43:../../../src/platform/firefly2_2/source/ulib.c **** #include <nrk_events.h>
  44:../../../src/platform/firefly2_2/source/ulib.c **** 
  45:../../../src/platform/firefly2_2/source/ulib.c **** #ifndef MAX_RX_UART_BUF
  46:../../../src/platform/firefly2_2/source/ulib.c **** #define MAX_RX_UART_BUF    16
  47:../../../src/platform/firefly2_2/source/ulib.c **** #endif
  48:../../../src/platform/firefly2_2/source/ulib.c **** 
  49:../../../src/platform/firefly2_2/source/ulib.c **** 
  50:../../../src/platform/firefly2_2/source/ulib.c **** static uint8_t uart_rx_buf_start,uart_rx_buf_end;
  51:../../../src/platform/firefly2_2/source/ulib.c **** static char uart_rx_buf[MAX_RX_UART_BUF];
  52:../../../src/platform/firefly2_2/source/ulib.c **** static nrk_sig_t uart_rx_signal;
  53:../../../src/platform/firefly2_2/source/ulib.c **** 
  54:../../../src/platform/firefly2_2/source/ulib.c **** SIGNAL(USART1_RX_vect)
  55:../../../src/platform/firefly2_2/source/ulib.c **** {
  56:../../../src/platform/firefly2_2/source/ulib.c **** char c;
  57:../../../src/platform/firefly2_2/source/ulib.c **** uint8_t sig;
  58:../../../src/platform/firefly2_2/source/ulib.c **** //cli();
  59:../../../src/platform/firefly2_2/source/ulib.c **** DISABLE_UART1_RX_INT();
  60:../../../src/platform/firefly2_2/source/ulib.c ****    UART1_WAIT_AND_RECEIVE(c);
  61:../../../src/platform/firefly2_2/source/ulib.c ****    uart_rx_buf[uart_rx_buf_end]=c;
  62:../../../src/platform/firefly2_2/source/ulib.c ****    //if(uart_rx_buf_end==uart_rx_buf_start) sig=1; else sig=0;
  63:../../../src/platform/firefly2_2/source/ulib.c ****    uart_rx_buf_end++;
  64:../../../src/platform/firefly2_2/source/ulib.c ****    if(uart_rx_buf_end==MAX_RX_UART_BUF) uart_rx_buf_end=0;
  65:../../../src/platform/firefly2_2/source/ulib.c ****    nrk_event_signal(uart_rx_signal);
  66:../../../src/platform/firefly2_2/source/ulib.c **** CLEAR_UART1_RX_INT();
  67:../../../src/platform/firefly2_2/source/ulib.c **** ENABLE_UART1_RX_INT();
  68:../../../src/platform/firefly2_2/source/ulib.c **** //sei();
  69:../../../src/platform/firefly2_2/source/ulib.c **** }
  70:../../../src/platform/firefly2_2/source/ulib.c **** 
  71:../../../src/platform/firefly2_2/source/ulib.c **** char getc1()
  72:../../../src/platform/firefly2_2/source/ulib.c **** {
  73:../../../src/platform/firefly2_2/source/ulib.c **** char tmp;
  74:../../../src/platform/firefly2_2/source/ulib.c **** 
  75:../../../src/platform/firefly2_2/source/ulib.c **** if(uart_rx_buf_start!=uart_rx_buf_end)
  76:../../../src/platform/firefly2_2/source/ulib.c ****    {
  77:../../../src/platform/firefly2_2/source/ulib.c ****    tmp=uart_rx_buf[uart_rx_buf_start];
  78:../../../src/platform/firefly2_2/source/ulib.c ****    uart_rx_buf_start++;
  79:../../../src/platform/firefly2_2/source/ulib.c ****    if(uart_rx_buf_start==MAX_RX_UART_BUF) uart_rx_buf_start=0;
  80:../../../src/platform/firefly2_2/source/ulib.c ****    return(tmp);
  81:../../../src/platform/firefly2_2/source/ulib.c ****    }
  82:../../../src/platform/firefly2_2/source/ulib.c **** // if buffer empty, then we have to block for it
  83:../../../src/platform/firefly2_2/source/ulib.c **** UART1_WAIT_AND_RECEIVE(tmp);
  84:../../../src/platform/firefly2_2/source/ulib.c **** return tmp;
  85:../../../src/platform/firefly2_2/source/ulib.c **** }
  86:../../../src/platform/firefly2_2/source/ulib.c **** 
  87:../../../src/platform/firefly2_2/source/ulib.c **** uint8_t nrk_uart_data_ready(uint8_t uart_num)
  88:../../../src/platform/firefly2_2/source/ulib.c **** {
  89:../../../src/platform/firefly2_2/source/ulib.c **** if(uart_num==0)
  90:../../../src/platform/firefly2_2/source/ulib.c ****         {
  91:../../../src/platform/firefly2_2/source/ulib.c ****         if( UCSR0A & BM(RXC0) ) return 1;
  92:../../../src/platform/firefly2_2/source/ulib.c ****         }
  93:../../../src/platform/firefly2_2/source/ulib.c **** if(uart_num==1)
  94:../../../src/platform/firefly2_2/source/ulib.c **** 	{
  95:../../../src/platform/firefly2_2/source/ulib.c **** 	if(uart_rx_buf_start!=uart_rx_buf_end) return 1;
  96:../../../src/platform/firefly2_2/source/ulib.c **** 	}
  97:../../../src/platform/firefly2_2/source/ulib.c **** return 0;
  98:../../../src/platform/firefly2_2/source/ulib.c **** }
  99:../../../src/platform/firefly2_2/source/ulib.c **** 
 100:../../../src/platform/firefly2_2/source/ulib.c **** nrk_sig_t nrk_uart_rx_signal_get()
 101:../../../src/platform/firefly2_2/source/ulib.c **** {
 102:../../../src/platform/firefly2_2/source/ulib.c ****    if(uart_rx_signal==NRK_ERROR) nrk_error_add(NRK_SIGNAL_CREATE_ERROR);
 103:../../../src/platform/firefly2_2/source/ulib.c ****    return uart_rx_signal;
 104:../../../src/platform/firefly2_2/source/ulib.c **** }
 105:../../../src/platform/firefly2_2/source/ulib.c **** 
 106:../../../src/platform/firefly2_2/source/ulib.c **** #else
 107:../../../src/platform/firefly2_2/source/ulib.c **** 
 108:../../../src/platform/firefly2_2/source/ulib.c **** nrk_sig_t nrk_uart_rx_signal_get()
 109:../../../src/platform/firefly2_2/source/ulib.c **** {
 122               	.LM0:
 123               	.LFBB1:
 124               	/* prologue: function */
 125               	/* frame size = 0 */
 110:../../../src/platform/firefly2_2/source/ulib.c ****    return NRK_ERROR;
 111:../../../src/platform/firefly2_2/source/ulib.c **** }
 127               	.LM1:
 128 0000 8FEF      		ldi r24,lo8(-1)
 129               	/* epilogue start */
 130 0002 0895      		ret
 132               	.Lscope1:
 134               		.stabd	78,0,0
 137               	.global	nrk_uart_data_ready
 139               	nrk_uart_data_ready:
 140               		.stabd	46,0,0
 112:../../../src/platform/firefly2_2/source/ulib.c **** 
 113:../../../src/platform/firefly2_2/source/ulib.c **** 
 114:../../../src/platform/firefly2_2/source/ulib.c **** uint8_t nrk_uart_data_ready(uint8_t uart_num)
 115:../../../src/platform/firefly2_2/source/ulib.c **** {
 142               	.LM2:
 143               	.LFBB2:
 144               	/* prologue: function */
 145               	/* frame size = 0 */
 116:../../../src/platform/firefly2_2/source/ulib.c **** if(uart_num==1)
 147               	.LM3:
 148 0004 8130      		cpi r24,lo8(1)
 149 0006 01F4      		brne .L4
 117:../../../src/platform/firefly2_2/source/ulib.c ****         {
 118:../../../src/platform/firefly2_2/source/ulib.c ****         if( UCSR1A & BM(RXC1) ) return 1;
 151               	.LM4:
 152 0008 8091 C800 		lds r24,200
 153 000c 881F      		rol r24
 154 000e 8827      		clr r24
 155 0010 881F      		rol r24
 156 0012 0895      		ret
 157               	.L4:
 119:../../../src/platform/firefly2_2/source/ulib.c ****         }
 120:../../../src/platform/firefly2_2/source/ulib.c **** if(uart_num==0)
 159               	.LM5:
 160 0014 8823      		tst r24
 161 0016 01F0      		breq .L7
 162 0018 80E0      		ldi r24,lo8(0)
 163 001a 0895      		ret
 164               	.L7:
 121:../../../src/platform/firefly2_2/source/ulib.c ****         {
 122:../../../src/platform/firefly2_2/source/ulib.c ****         if( UCSR0A & BM(RXC0) ) return 1;
 166               	.LM6:
 167 001c 8091 C000 		lds r24,192
 168 0020 881F      		rol r24
 169 0022 8827      		clr r24
 170 0024 881F      		rol r24
 123:../../../src/platform/firefly2_2/source/ulib.c ****         }
 124:../../../src/platform/firefly2_2/source/ulib.c **** return 0;
 125:../../../src/platform/firefly2_2/source/ulib.c **** }
 172               	.LM7:
 173 0026 0895      		ret
 175               	.Lscope2:
 177               		.stabd	78,0,0
 179               	.global	getc1
 181               	getc1:
 182               		.stabd	46,0,0
 126:../../../src/platform/firefly2_2/source/ulib.c **** 
 127:../../../src/platform/firefly2_2/source/ulib.c **** char getc1(void){
 184               	.LM8:
 185               	.LFBB3:
 186               	/* prologue: function */
 187               	/* frame size = 0 */
 188               	.L12:
 128:../../../src/platform/firefly2_2/source/ulib.c ****         unsigned char tmp;
 129:../../../src/platform/firefly2_2/source/ulib.c ****         UART1_WAIT_AND_RECEIVE(tmp);
 190               	.LM9:
 191 0028 8091 C800 		lds r24,200
 192 002c 87FF      		sbrs r24,7
 193 002e 00C0      		rjmp .L12
 194 0030 8091 C800 		lds r24,200
 195 0034 8F77      		andi r24,lo8(127)
 196 0036 8093 C800 		sts 200,r24
 197 003a 8091 CE00 		lds r24,206
 198               	/* epilogue start */
 130:../../../src/platform/firefly2_2/source/ulib.c ****         return tmp;
 131:../../../src/platform/firefly2_2/source/ulib.c **** }
 200               	.LM10:
 201 003e 0895      		ret
 206               	.Lscope3:
 208               		.stabd	78,0,0
 210               	.global	PORT_INIT
 212               	PORT_INIT:
 213               		.stabd	46,0,0
 132:../../../src/platform/firefly2_2/source/ulib.c **** 
 133:../../../src/platform/firefly2_2/source/ulib.c **** #endif
 134:../../../src/platform/firefly2_2/source/ulib.c **** 
 135:../../../src/platform/firefly2_2/source/ulib.c **** void nrk_kprintf( const char *addr)
 136:../../../src/platform/firefly2_2/source/ulib.c **** {
 137:../../../src/platform/firefly2_2/source/ulib.c ****  char c;
 138:../../../src/platform/firefly2_2/source/ulib.c ****    while((c=pgm_read_byte(addr++)))
 139:../../../src/platform/firefly2_2/source/ulib.c ****         putchar(c);
 140:../../../src/platform/firefly2_2/source/ulib.c **** }
 141:../../../src/platform/firefly2_2/source/ulib.c **** 
 142:../../../src/platform/firefly2_2/source/ulib.c **** void nrk_setup_ports()
 143:../../../src/platform/firefly2_2/source/ulib.c **** {
 144:../../../src/platform/firefly2_2/source/ulib.c **** PORT_INIT();
 145:../../../src/platform/firefly2_2/source/ulib.c **** SPI_INIT();
 146:../../../src/platform/firefly2_2/source/ulib.c **** }
 147:../../../src/platform/firefly2_2/source/ulib.c **** 
 148:../../../src/platform/firefly2_2/source/ulib.c **** //---------------------------------------------------------------------------------------------
 149:../../../src/platform/firefly2_2/source/ulib.c **** // GPIO related definitions
 150:../../../src/platform/firefly2_2/source/ulib.c **** //---------------------------------------------------------------------------------------------
 151:../../../src/platform/firefly2_2/source/ulib.c **** // Define high-level nrk pins mappings to hardware pins and ports
 152:../../../src/platform/firefly2_2/source/ulib.c **** // This is used for nrk_gpio_... functions.
 153:../../../src/platform/firefly2_2/source/ulib.c **** // Raw GPIO mapping can be found in the nrk_pin_define.h file.
 154:../../../src/platform/firefly2_2/source/ulib.c **** //---------------------------------------------------------------------------------------------
 155:../../../src/platform/firefly2_2/source/ulib.c **** 
 156:../../../src/platform/firefly2_2/source/ulib.c **** //-------------------------------
 157:../../../src/platform/firefly2_2/source/ulib.c **** // Port A
 158:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( DEBUG_0,DEBUG_0, NRK_PORTA )
 159:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( DEBUG_1,DEBUG_1, NRK_PORTA )
 160:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( BUTTON,BUTTON, NRK_PORTA )
 161:../../../src/platform/firefly2_2/source/ulib.c **** //-------------------------------
 162:../../../src/platform/firefly2_2/source/ulib.c **** // Port B
 163:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( SPI_SS,SPI_SS, NRK_PORTB )
 164:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( SCK,SCK, NRK_PORTB )
 165:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( MOSI,MOSI, NRK_PORTB )
 166:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( MISO,MISO, NRK_PORTB )
 167:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( GPIO26,4, NRK_PORTB )
 168:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( MMC_11,5, NRK_PORTB )
 169:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( MMC_10,6, NRK_PORTB )
 170:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( MMC_9,7, NRK_PORTB )
 171:../../../src/platform/firefly2_2/source/ulib.c **** 
 172:../../../src/platform/firefly2_2/source/ulib.c **** //-------------------------------
 173:../../../src/platform/firefly2_2/source/ulib.c **** // Port D
 174:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( DEBUG_2,DEBUG_2, NRK_PORTD )
 175:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( DEBUG_3,DEBUG_3, NRK_PORTD )
 176:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( UART1_RXD,UART1_RXD, NRK_PORTD )
 177:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( UART1_TXD,UART1_TXD, NRK_PORTD )
 178:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( CCA,CCA, NRK_PORTD )
 179:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( SFD,SFD, NRK_PORTD )
 180:../../../src/platform/firefly2_2/source/ulib.c **** 
 181:../../../src/platform/firefly2_2/source/ulib.c **** //-------------------------------
 182:../../../src/platform/firefly2_2/source/ulib.c **** // Port E
 183:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( UART0_RXD,UART0_RXD, NRK_PORTE )
 184:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( UART0_TXD,UART0_TXD, NRK_PORTE )
 185:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( LED_0,LED_0, NRK_PORTE )
 186:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( LED_1,LED_1, NRK_PORTE )
 187:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( LED_2,LED_2, NRK_PORTE )
 188:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( LED_3,LED_3, NRK_PORTE )
 189:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( GPIO34,GPIO34, NRK_PORTE )
 190:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( FIFOP, FIFOP, NRK_PORTE )
 191:../../../src/platform/firefly2_2/source/ulib.c **** 
 192:../../../src/platform/firefly2_2/source/ulib.c **** 
 193:../../../src/platform/firefly2_2/source/ulib.c **** //-------------------------------
 194:../../../src/platform/firefly2_2/source/ulib.c **** // Port F
 195:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( ADC_INPUT_0, ADC_INPUT_0, NRK_PORTF )
 196:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( ADC_INPUT_1, ADC_INPUT_1, NRK_PORTF )
 197:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( ADC_INPUT_2, ADC_INPUT_2, NRK_PORTF )
 198:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( ADC_INPUT_3, ADC_INPUT_3, NRK_PORTF )
 199:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( ADC_INPUT_4, ADC_INPUT_4, NRK_PORTF )
 200:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( ADC_INPUT_5, ADC_INPUT_5, NRK_PORTF )
 201:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( ADC_INPUT_6, ADC_INPUT_6, NRK_PORTF )
 202:../../../src/platform/firefly2_2/source/ulib.c **** NRK_PIN( ADC_INPUT_7, ADC_INPUT_7, NRK_PORTF )
 203:../../../src/platform/firefly2_2/source/ulib.c **** 
 204:../../../src/platform/firefly2_2/source/ulib.c **** void PORT_INIT(void) 
 205:../../../src/platform/firefly2_2/source/ulib.c **** {
 215               	.LM11:
 216               	.LFBB4:
 217               	/* prologue: function */
 218               	/* frame size = 0 */
 206:../../../src/platform/firefly2_2/source/ulib.c ****         MCUCR |= BM(PUD); 
 220               	.LM12:
 221 0040 85B7      		in r24,85-0x20
 222 0042 8061      		ori r24,lo8(16)
 223 0044 85BF      		out 85-0x20,r24
 207:../../../src/platform/firefly2_2/source/ulib.c **** 
 208:../../../src/platform/firefly2_2/source/ulib.c **** #ifdef SPI_SS_PULLUP
 209:../../../src/platform/firefly2_2/source/ulib.c ****         DDRB  = BM(MOSI) | BM(SCK) | BM(SPI_SS);  
 210:../../../src/platform/firefly2_2/source/ulib.c ****         PORTB = BM(MOSI) | BM(SCK) | BM(SPI_SS); 
 211:../../../src/platform/firefly2_2/source/ulib.c **** #else
 212:../../../src/platform/firefly2_2/source/ulib.c ****         DDRB  = BM(MOSI) | BM(SCK);  
 225               	.LM13:
 226 0046 86E0      		ldi r24,lo8(6)
 227 0048 84B9      		out 36-0x20,r24
 213:../../../src/platform/firefly2_2/source/ulib.c ****         PORTB = BM(MOSI) | BM(SCK); 
 229               	.LM14:
 230 004a 85B9      		out 37-0x20,r24
 214:../../../src/platform/firefly2_2/source/ulib.c **** #endif
 215:../../../src/platform/firefly2_2/source/ulib.c ****         DDRC  = BM(CSN); 
 232               	.LM15:
 233 004c 81E0      		ldi r24,lo8(1)
 234 004e 87B9      		out 39-0x20,r24
 216:../../../src/platform/firefly2_2/source/ulib.c ****         PORTC = BM(CSN); 
 236               	.LM16:
 237 0050 88B9      		out 40-0x20,r24
 217:../../../src/platform/firefly2_2/source/ulib.c ****         DDRE  = BM(LED_0) | BM(LED_1) | BM(LED_2) | BM(LED_3); 
 239               	.LM17:
 240 0052 8CE3      		ldi r24,lo8(60)
 241 0054 8DB9      		out 45-0x20,r24
 218:../../../src/platform/firefly2_2/source/ulib.c ****         DDRD  = BM(UART1_TXD) | BM(DEBUG_2) | BM(DEBUG_3); 
 243               	.LM18:
 244 0056 8BE0      		ldi r24,lo8(11)
 245 0058 8AB9      		out 42-0x20,r24
 219:../../../src/platform/firefly2_2/source/ulib.c ****         PORTE  = BM(UART0_TXD) | BM(LED_0) | BM(LED_1) | BM(LED_2) | BM(LED_3); 
 247               	.LM19:
 248 005a 8EE3      		ldi r24,lo8(62)
 249 005c 8EB9      		out 46-0x20,r24
 220:../../../src/platform/firefly2_2/source/ulib.c ****         DDRA  = BM(VREG_EN) | BM(RESET_N) | BM(DEBUG_0) | BM(DEBUG_1); 
 251               	.LM20:
 252 005e 88E7      		ldi r24,lo8(120)
 253 0060 81B9      		out 33-0x20,r24
 221:../../../src/platform/firefly2_2/source/ulib.c ****         PORTA |= BM(RESET_N); 
 255               	.LM21:
 256 0062 169A      		sbi 34-0x20,6
 257               	/* epilogue start */
 222:../../../src/platform/firefly2_2/source/ulib.c **** } 
 259               	.LM22:
 260 0064 0895      		ret
 262               	.Lscope4:
 264               		.stabd	78,0,0
 266               	.global	nrk_setup_ports
 268               	nrk_setup_ports:
 269               		.stabd	46,0,0
 271               	.LM23:
 272               	.LFBB5:
 273               	/* prologue: function */
 274               	/* frame size = 0 */
 276               	.LM24:
 277 0066 0E94 0000 		call PORT_INIT
 279               	.LM25:
 280 006a 80E5      		ldi r24,lo8(80)
 281 006c 8CBD      		out 76-0x20,r24
 282 006e 81E0      		ldi r24,lo8(1)
 283 0070 8DBD      		out 77-0x20,r24
 284               	/* epilogue start */
 286               	.LM26:
 287 0072 0895      		ret
 289               	.Lscope5:
 291               		.stabd	78,0,0
 294               	.global	nrk_gpio_set
 296               	nrk_gpio_set:
 297               		.stabd	46,0,0
 223:../../../src/platform/firefly2_2/source/ulib.c **** 
 224:../../../src/platform/firefly2_2/source/ulib.c **** 
 225:../../../src/platform/firefly2_2/source/ulib.c **** 
 226:../../../src/platform/firefly2_2/source/ulib.c **** //-------------------------------
 227:../../../src/platform/firefly2_2/source/ulib.c **** // GPIO handling functions
 228:../../../src/platform/firefly2_2/source/ulib.c **** 
 229:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_gpio_set(uint8_t pin)
 230:../../../src/platform/firefly2_2/source/ulib.c **** {
 299               	.LM27:
 300               	.LFBB6:
 301               	/* prologue: function */
 302               	/* frame size = 0 */
 231:../../../src/platform/firefly2_2/source/ulib.c ****         if (pin == NRK_INVALID_PIN_VAL) return -1;
 304               	.LM28:
 305 0074 8F3F      		cpi r24,lo8(-1)
 306 0076 01F4      		brne .+2
 307 0078 00C0      		rjmp .L20
 232:../../../src/platform/firefly2_2/source/ulib.c ****         switch (pin & 0x07) {
 309               	.LM29:
 310 007a 282F      		mov r18,r24
 311 007c 30E0      		ldi r19,lo8(0)
 312 007e 2770      		andi r18,lo8(7)
 313 0080 3070      		andi r19,hi8(7)
 314 0082 2230      		cpi r18,2
 315 0084 3105      		cpc r19,__zero_reg__
 316 0086 01F0      		breq .L23
 317 0088 2330      		cpi r18,3
 318 008a 3105      		cpc r19,__zero_reg__
 319 008c 04F4      		brge .L27
 320 008e 2115      		cp r18,__zero_reg__
 321 0090 3105      		cpc r19,__zero_reg__
 322 0092 01F0      		breq .L21
 323 0094 2130      		cpi r18,1
 324 0096 3105      		cpc r19,__zero_reg__
 325 0098 01F0      		breq .+2
 326 009a 00C0      		rjmp .L20
 327 009c 00C0      		rjmp .L33
 328               	.L27:
 329 009e 2430      		cpi r18,4
 330 00a0 3105      		cpc r19,__zero_reg__
 331 00a2 01F4      		brne .+2
 332 00a4 00C0      		rjmp .L25
 333 00a6 2430      		cpi r18,4
 334 00a8 3105      		cpc r19,__zero_reg__
 335 00aa 04F0      		brlt .L24
 336 00ac 2530      		cpi r18,5
 337 00ae 3105      		cpc r19,__zero_reg__
 338 00b0 01F0      		breq .+2
 339 00b2 00C0      		rjmp .L20
 340 00b4 00C0      		rjmp .L34
 341               	.L21:
 233:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTA:
 234:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTA |= BM((pin & 0xF8) >> 3); } while(0); break; 
 343               	.LM30:
 344 00b6 92B1      		in r25,34-0x20
 345 00b8 8695      		lsr r24
 346 00ba 8695      		lsr r24
 347 00bc 8695      		lsr r24
 348 00be 41E0      		ldi r20,lo8(1)
 349 00c0 50E0      		ldi r21,hi8(1)
 350 00c2 00C0      		rjmp 2f
 351 00c4 440F      	1:	lsl r20
 352 00c6 551F      		rol r21
 353 00c8 8A95      	2:	dec r24
 354 00ca 02F4      		brpl 1b
 355 00cc 942B      		or r25,r20
 356 00ce 92B9      		out 34-0x20,r25
 357 00d0 00C0      		rjmp .L30
 358               	.L33:
 235:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTB:
 236:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTB |= BM((pin & 0xF8) >> 3); } while(0); break; 
 360               	.LM31:
 361 00d2 95B1      		in r25,37-0x20
 362 00d4 8695      		lsr r24
 363 00d6 8695      		lsr r24
 364 00d8 8695      		lsr r24
 365 00da 00C0      		rjmp 2f
 366 00dc 220F      	1:	lsl r18
 367 00de 331F      		rol r19
 368 00e0 8A95      	2:	dec r24
 369 00e2 02F4      		brpl 1b
 370 00e4 922B      		or r25,r18
 371 00e6 95B9      		out 37-0x20,r25
 372 00e8 00C0      		rjmp .L30
 373               	.L23:
 237:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTC:
 238:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTC |= BM((pin & 0xF8) >> 3); } while(0); break; 
 375               	.LM32:
 376 00ea 98B1      		in r25,40-0x20
 377 00ec 8695      		lsr r24
 378 00ee 8695      		lsr r24
 379 00f0 8695      		lsr r24
 380 00f2 41E0      		ldi r20,lo8(1)
 381 00f4 50E0      		ldi r21,hi8(1)
 382 00f6 00C0      		rjmp 2f
 383 00f8 440F      	1:	lsl r20
 384 00fa 551F      		rol r21
 385 00fc 8A95      	2:	dec r24
 386 00fe 02F4      		brpl 1b
 387 0100 942B      		or r25,r20
 388 0102 98B9      		out 40-0x20,r25
 389 0104 00C0      		rjmp .L30
 390               	.L24:
 239:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTD:
 240:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTD |= BM((pin & 0xF8) >> 3); } while(0); break; 
 392               	.LM33:
 393 0106 9BB1      		in r25,43-0x20
 394 0108 8695      		lsr r24
 395 010a 8695      		lsr r24
 396 010c 8695      		lsr r24
 397 010e 41E0      		ldi r20,lo8(1)
 398 0110 50E0      		ldi r21,hi8(1)
 399 0112 00C0      		rjmp 2f
 400 0114 440F      	1:	lsl r20
 401 0116 551F      		rol r21
 402 0118 8A95      	2:	dec r24
 403 011a 02F4      		brpl 1b
 404 011c 942B      		or r25,r20
 405 011e 9BB9      		out 43-0x20,r25
 406 0120 00C0      		rjmp .L30
 407               	.L25:
 241:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTE:
 242:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTE |= BM((pin & 0xF8) >> 3); } while(0); break; 
 409               	.LM34:
 410 0122 9EB1      		in r25,46-0x20
 411 0124 8695      		lsr r24
 412 0126 8695      		lsr r24
 413 0128 8695      		lsr r24
 414 012a 41E0      		ldi r20,lo8(1)
 415 012c 50E0      		ldi r21,hi8(1)
 416 012e 00C0      		rjmp 2f
 417 0130 440F      	1:	lsl r20
 418 0132 551F      		rol r21
 419 0134 8A95      	2:	dec r24
 420 0136 02F4      		brpl 1b
 421 0138 942B      		or r25,r20
 422 013a 9EB9      		out 46-0x20,r25
 423 013c 00C0      		rjmp .L30
 424               	.L34:
 243:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTF:
 244:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTF |= BM((pin & 0xF8) >> 3); } while(0); break; 
 426               	.LM35:
 427 013e 91B3      		in r25,49-0x20
 428 0140 8695      		lsr r24
 429 0142 8695      		lsr r24
 430 0144 8695      		lsr r24
 431 0146 41E0      		ldi r20,lo8(1)
 432 0148 50E0      		ldi r21,hi8(1)
 433 014a 00C0      		rjmp 2f
 434 014c 440F      	1:	lsl r20
 435 014e 551F      		rol r21
 436 0150 8A95      	2:	dec r24
 437 0152 02F4      		brpl 1b
 438 0154 942B      		or r25,r20
 439 0156 91BB      		out 49-0x20,r25
 440               	.L30:
 441 0158 81E0      		ldi r24,lo8(1)
 442 015a 0895      		ret
 443               	.L20:
 444 015c 8FEF      		ldi r24,lo8(-1)
 245:../../../src/platform/firefly2_2/source/ulib.c ****                 default: return -1;
 246:../../../src/platform/firefly2_2/source/ulib.c ****         }
 247:../../../src/platform/firefly2_2/source/ulib.c ****         return 1;
 248:../../../src/platform/firefly2_2/source/ulib.c **** }
 446               	.LM36:
 447 015e 0895      		ret
 449               	.Lscope6:
 451               		.stabd	78,0,0
 454               	.global	nrk_gpio_clr
 456               	nrk_gpio_clr:
 457               		.stabd	46,0,0
 249:../../../src/platform/firefly2_2/source/ulib.c **** 
 250:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_gpio_clr(uint8_t pin)
 251:../../../src/platform/firefly2_2/source/ulib.c **** {
 459               	.LM37:
 460               	.LFBB7:
 461               	/* prologue: function */
 462               	/* frame size = 0 */
 252:../../../src/platform/firefly2_2/source/ulib.c ****         if (pin == NRK_INVALID_PIN_VAL) return -1;
 464               	.LM38:
 465 0160 8F3F      		cpi r24,lo8(-1)
 466 0162 01F4      		brne .+2
 467 0164 00C0      		rjmp .L36
 253:../../../src/platform/firefly2_2/source/ulib.c ****         switch (pin & 0x07) {
 469               	.LM39:
 470 0166 282F      		mov r18,r24
 471 0168 30E0      		ldi r19,lo8(0)
 472 016a 2770      		andi r18,lo8(7)
 473 016c 3070      		andi r19,hi8(7)
 474 016e 2230      		cpi r18,2
 475 0170 3105      		cpc r19,__zero_reg__
 476 0172 01F0      		breq .L39
 477 0174 2330      		cpi r18,3
 478 0176 3105      		cpc r19,__zero_reg__
 479 0178 04F4      		brge .L43
 480 017a 2115      		cp r18,__zero_reg__
 481 017c 3105      		cpc r19,__zero_reg__
 482 017e 01F0      		breq .L37
 483 0180 2130      		cpi r18,1
 484 0182 3105      		cpc r19,__zero_reg__
 485 0184 01F0      		breq .+2
 486 0186 00C0      		rjmp .L36
 487 0188 00C0      		rjmp .L49
 488               	.L43:
 489 018a 2430      		cpi r18,4
 490 018c 3105      		cpc r19,__zero_reg__
 491 018e 01F4      		brne .+2
 492 0190 00C0      		rjmp .L41
 493 0192 2430      		cpi r18,4
 494 0194 3105      		cpc r19,__zero_reg__
 495 0196 04F0      		brlt .L40
 496 0198 2530      		cpi r18,5
 497 019a 3105      		cpc r19,__zero_reg__
 498 019c 01F0      		breq .+2
 499 019e 00C0      		rjmp .L36
 500 01a0 00C0      		rjmp .L50
 501               	.L37:
 254:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTA:
 255:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTA &= ~BM((pin & 0xF8) >> 3); } while(0); break;
 503               	.LM40:
 504 01a2 32B1      		in r19,34-0x20
 505 01a4 282F      		mov r18,r24
 506 01a6 2695      		lsr r18
 507 01a8 2695      		lsr r18
 508 01aa 2695      		lsr r18
 509 01ac 81E0      		ldi r24,lo8(1)
 510 01ae 90E0      		ldi r25,hi8(1)
 511 01b0 00C0      		rjmp 2f
 512 01b2 880F      	1:	lsl r24
 513 01b4 991F      		rol r25
 514 01b6 2A95      	2:	dec r18
 515 01b8 02F4      		brpl 1b
 516 01ba 8095      		com r24
 517 01bc 8323      		and r24,r19
 518 01be 82B9      		out 34-0x20,r24
 519 01c0 00C0      		rjmp .L46
 520               	.L49:
 256:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTB:
 257:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTB &= ~BM((pin & 0xF8) >> 3); } while(0); break;
 522               	.LM41:
 523 01c2 95B1      		in r25,37-0x20
 524 01c4 8695      		lsr r24
 525 01c6 8695      		lsr r24
 526 01c8 8695      		lsr r24
 527 01ca 00C0      		rjmp 2f
 528 01cc 220F      	1:	lsl r18
 529 01ce 331F      		rol r19
 530 01d0 8A95      	2:	dec r24
 531 01d2 02F4      		brpl 1b
 532 01d4 2095      		com r18
 533 01d6 2923      		and r18,r25
 534 01d8 25B9      		out 37-0x20,r18
 535 01da 00C0      		rjmp .L46
 536               	.L39:
 258:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTC:
 259:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTC &= ~BM((pin & 0xF8) >> 3); } while(0); break; 
 538               	.LM42:
 539 01dc 38B1      		in r19,40-0x20
 540 01de 282F      		mov r18,r24
 541 01e0 2695      		lsr r18
 542 01e2 2695      		lsr r18
 543 01e4 2695      		lsr r18
 544 01e6 81E0      		ldi r24,lo8(1)
 545 01e8 90E0      		ldi r25,hi8(1)
 546 01ea 00C0      		rjmp 2f
 547 01ec 880F      	1:	lsl r24
 548 01ee 991F      		rol r25
 549 01f0 2A95      	2:	dec r18
 550 01f2 02F4      		brpl 1b
 551 01f4 8095      		com r24
 552 01f6 8323      		and r24,r19
 553 01f8 88B9      		out 40-0x20,r24
 554 01fa 00C0      		rjmp .L46
 555               	.L40:
 260:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTD:
 261:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTD &= ~BM((pin & 0xF8) >> 3); } while(0); break; 
 557               	.LM43:
 558 01fc 3BB1      		in r19,43-0x20
 559 01fe 282F      		mov r18,r24
 560 0200 2695      		lsr r18
 561 0202 2695      		lsr r18
 562 0204 2695      		lsr r18
 563 0206 81E0      		ldi r24,lo8(1)
 564 0208 90E0      		ldi r25,hi8(1)
 565 020a 00C0      		rjmp 2f
 566 020c 880F      	1:	lsl r24
 567 020e 991F      		rol r25
 568 0210 2A95      	2:	dec r18
 569 0212 02F4      		brpl 1b
 570 0214 8095      		com r24
 571 0216 8323      		and r24,r19
 572 0218 8BB9      		out 43-0x20,r24
 573 021a 00C0      		rjmp .L46
 574               	.L41:
 262:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTE:
 263:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTE &= ~BM((pin & 0xF8) >> 3); } while(0); break; 
 576               	.LM44:
 577 021c 3EB1      		in r19,46-0x20
 578 021e 282F      		mov r18,r24
 579 0220 2695      		lsr r18
 580 0222 2695      		lsr r18
 581 0224 2695      		lsr r18
 582 0226 81E0      		ldi r24,lo8(1)
 583 0228 90E0      		ldi r25,hi8(1)
 584 022a 00C0      		rjmp 2f
 585 022c 880F      	1:	lsl r24
 586 022e 991F      		rol r25
 587 0230 2A95      	2:	dec r18
 588 0232 02F4      		brpl 1b
 589 0234 8095      		com r24
 590 0236 8323      		and r24,r19
 591 0238 8EB9      		out 46-0x20,r24
 592 023a 00C0      		rjmp .L46
 593               	.L50:
 264:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTF:
 265:../../../src/platform/firefly2_2/source/ulib.c ****                         do { PORTF &= ~BM((pin & 0xF8) >> 3); } while(0); break; 
 595               	.LM45:
 596 023c 31B3      		in r19,49-0x20
 597 023e 282F      		mov r18,r24
 598 0240 2695      		lsr r18
 599 0242 2695      		lsr r18
 600 0244 2695      		lsr r18
 601 0246 81E0      		ldi r24,lo8(1)
 602 0248 90E0      		ldi r25,hi8(1)
 603 024a 00C0      		rjmp 2f
 604 024c 880F      	1:	lsl r24
 605 024e 991F      		rol r25
 606 0250 2A95      	2:	dec r18
 607 0252 02F4      		brpl 1b
 608 0254 8095      		com r24
 609 0256 8323      		and r24,r19
 610 0258 81BB      		out 49-0x20,r24
 611               	.L46:
 612 025a 81E0      		ldi r24,lo8(1)
 613 025c 0895      		ret
 614               	.L36:
 615 025e 8FEF      		ldi r24,lo8(-1)
 266:../../../src/platform/firefly2_2/source/ulib.c ****                 default: return -1;
 267:../../../src/platform/firefly2_2/source/ulib.c ****         }
 268:../../../src/platform/firefly2_2/source/ulib.c ****         return 1;
 269:../../../src/platform/firefly2_2/source/ulib.c **** }
 617               	.LM46:
 618 0260 0895      		ret
 620               	.Lscope7:
 622               		.stabd	78,0,0
 625               	.global	nrk_gpio_get
 627               	nrk_gpio_get:
 628               		.stabd	46,0,0
 270:../../../src/platform/firefly2_2/source/ulib.c **** 
 271:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_gpio_get(uint8_t pin)
 272:../../../src/platform/firefly2_2/source/ulib.c **** {
 630               	.LM47:
 631               	.LFBB8:
 632               	/* prologue: function */
 633               	/* frame size = 0 */
 273:../../../src/platform/firefly2_2/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 635               	.LM48:
 636 0262 8F3F      		cpi r24,lo8(-1)
 637 0264 01F0      		breq .L52
 274:../../../src/platform/firefly2_2/source/ulib.c ****         switch (pin & 0x07) {
 639               	.LM49:
 640 0266 282F      		mov r18,r24
 641 0268 30E0      		ldi r19,lo8(0)
 642 026a 2770      		andi r18,lo8(7)
 643 026c 3070      		andi r19,hi8(7)
 644 026e 2230      		cpi r18,2
 645 0270 3105      		cpc r19,__zero_reg__
 646 0272 01F0      		breq .L55
 647 0274 2330      		cpi r18,3
 648 0276 3105      		cpc r19,__zero_reg__
 649 0278 04F4      		brge .L59
 650 027a 2115      		cp r18,__zero_reg__
 651 027c 3105      		cpc r19,__zero_reg__
 652 027e 01F0      		breq .L53
 653 0280 2130      		cpi r18,1
 654 0282 3105      		cpc r19,__zero_reg__
 655 0284 01F4      		brne .L52
 656 0286 00C0      		rjmp .L65
 657               	.L59:
 658 0288 2430      		cpi r18,4
 659 028a 3105      		cpc r19,__zero_reg__
 660 028c 01F0      		breq .L57
 661 028e 2430      		cpi r18,4
 662 0290 3105      		cpc r19,__zero_reg__
 663 0292 04F0      		brlt .L56
 664 0294 2530      		cpi r18,5
 665 0296 3105      		cpc r19,__zero_reg__
 666 0298 01F4      		brne .L52
 667 029a 00C0      		rjmp .L66
 668               	.L53:
 275:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTA:
 276:../../../src/platform/firefly2_2/source/ulib.c ****                         return !!(PINA & BM((pin & 0xF8) >> 3));
 670               	.LM50:
 671 029c 20B1      		in r18,32-0x20
 672 029e 00C0      		rjmp .L62
 673               	.L65:
 277:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTB:
 278:../../../src/platform/firefly2_2/source/ulib.c ****                         return !!(PINB & BM((pin & 0xF8) >> 3));
 675               	.LM51:
 676 02a0 23B1      		in r18,35-0x20
 677 02a2 00C0      		rjmp .L62
 678               	.L55:
 279:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTC:
 280:../../../src/platform/firefly2_2/source/ulib.c ****                         return !!(PINC & BM((pin & 0xF8) >> 3));
 680               	.LM52:
 681 02a4 26B1      		in r18,38-0x20
 682 02a6 00C0      		rjmp .L62
 683               	.L56:
 281:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTD:
 282:../../../src/platform/firefly2_2/source/ulib.c ****                         return !!(PIND & BM((pin & 0xF8) >> 3));
 685               	.LM53:
 686 02a8 29B1      		in r18,41-0x20
 687 02aa 00C0      		rjmp .L62
 688               	.L57:
 283:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTE:
 284:../../../src/platform/firefly2_2/source/ulib.c ****                         return !!(PINE & BM((pin & 0xF8) >> 3));
 690               	.LM54:
 691 02ac 2CB1      		in r18,44-0x20
 692 02ae 00C0      		rjmp .L62
 693               	.L66:
 285:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTF:
 286:../../../src/platform/firefly2_2/source/ulib.c ****                         return !!(PINF & BM((pin & 0xF8) >> 3));
 695               	.LM55:
 696 02b0 2FB1      		in r18,47-0x20
 697               	.L62:
 698 02b2 30E0      		ldi r19,lo8(0)
 699 02b4 8695      		lsr r24
 700 02b6 8695      		lsr r24
 701 02b8 8695      		lsr r24
 702 02ba 00C0      		rjmp 2f
 703 02bc 3595      	1:	asr r19
 704 02be 2795      		ror r18
 705 02c0 8A95      	2:	dec r24
 706 02c2 02F4      		brpl 1b
 707 02c4 822F      		mov r24,r18
 708 02c6 8170      		andi r24,lo8(1)
 709 02c8 0895      		ret
 710               	.L52:
 711 02ca 8FEF      		ldi r24,lo8(-1)
 287:../../../src/platform/firefly2_2/source/ulib.c ****                 default: return -1;
 288:../../../src/platform/firefly2_2/source/ulib.c ****         }
 289:../../../src/platform/firefly2_2/source/ulib.c ****         return 1;
 290:../../../src/platform/firefly2_2/source/ulib.c **** }
 713               	.LM56:
 714 02cc 0895      		ret
 716               	.Lscope8:
 718               		.stabd	78,0,0
 721               	.global	nrk_gpio_toggle
 723               	nrk_gpio_toggle:
 724               		.stabd	46,0,0
 291:../../../src/platform/firefly2_2/source/ulib.c **** 
 292:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_gpio_toggle(uint8_t pin)
 293:../../../src/platform/firefly2_2/source/ulib.c **** {
 726               	.LM57:
 727               	.LFBB9:
 728               	/* prologue: function */
 729               	/* frame size = 0 */
 294:../../../src/platform/firefly2_2/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 731               	.LM58:
 732 02ce 8F3F      		cpi r24,lo8(-1)
 733 02d0 01F4      		brne .+2
 734 02d2 00C0      		rjmp .L68
 295:../../../src/platform/firefly2_2/source/ulib.c ****         switch (pin & 0x07) {
 736               	.LM59:
 737 02d4 282F      		mov r18,r24
 738 02d6 30E0      		ldi r19,lo8(0)
 739 02d8 2770      		andi r18,lo8(7)
 740 02da 3070      		andi r19,hi8(7)
 741 02dc 2230      		cpi r18,2
 742 02de 3105      		cpc r19,__zero_reg__
 743 02e0 01F4      		brne .+2
 744 02e2 00C0      		rjmp .L71
 745 02e4 2330      		cpi r18,3
 746 02e6 3105      		cpc r19,__zero_reg__
 747 02e8 04F4      		brge .L75
 748 02ea 2115      		cp r18,__zero_reg__
 749 02ec 3105      		cpc r19,__zero_reg__
 750 02ee 01F0      		breq .L69
 751 02f0 2130      		cpi r18,1
 752 02f2 3105      		cpc r19,__zero_reg__
 753 02f4 01F0      		breq .+2
 754 02f6 00C0      		rjmp .L68
 755 02f8 00C0      		rjmp .L92
 756               	.L75:
 757 02fa 2430      		cpi r18,4
 758 02fc 3105      		cpc r19,__zero_reg__
 759 02fe 01F4      		brne .+2
 760 0300 00C0      		rjmp .L73
 761 0302 2430      		cpi r18,4
 762 0304 3105      		cpc r19,__zero_reg__
 763 0306 04F4      		brge .+2
 764 0308 00C0      		rjmp .L72
 765 030a 2530      		cpi r18,5
 766 030c 3105      		cpc r19,__zero_reg__
 767 030e 01F0      		breq .+2
 768 0310 00C0      		rjmp .L68
 769 0312 00C0      		rjmp .L93
 770               	.L69:
 296:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTA:
 297:../../../src/platform/firefly2_2/source/ulib.c ****                         if ((PINA & BM((pin & 0xF8) >> 3)) == 0) {
 772               	.LM60:
 773 0314 90B1      		in r25,32-0x20
 774 0316 8695      		lsr r24
 775 0318 8695      		lsr r24
 776 031a 8695      		lsr r24
 777 031c 282F      		mov r18,r24
 778 031e 892F      		mov r24,r25
 779 0320 90E0      		ldi r25,lo8(0)
 780 0322 022E      		mov r0,r18
 781 0324 00C0      		rjmp 2f
 782 0326 9595      	1:	asr r25
 783 0328 8795      		ror r24
 784 032a 0A94      	2:	dec r0
 785 032c 02F4      		brpl 1b
 786 032e 80FD      		sbrc r24,0
 787 0330 00C0      		rjmp .L76
 298:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTA |= BM((pin & 0xF8) >> 3); } while(0);
 789               	.LM61:
 790 0332 82B1      		in r24,34-0x20
 791 0334 41E0      		ldi r20,lo8(1)
 792 0336 50E0      		ldi r21,hi8(1)
 793 0338 00C0      		rjmp 2f
 794 033a 440F      	1:	lsl r20
 795 033c 551F      		rol r21
 796 033e 2A95      	2:	dec r18
 797 0340 02F4      		brpl 1b
 798 0342 842B      		or r24,r20
 799 0344 00C0      		rjmp .L89
 800               	.L76:
 299:../../../src/platform/firefly2_2/source/ulib.c ****                         } else {
 300:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTA &= ~BM((pin & 0xF8) >> 3); } while(0);
 802               	.LM62:
 803 0346 32B1      		in r19,34-0x20
 804 0348 81E0      		ldi r24,lo8(1)
 805 034a 90E0      		ldi r25,hi8(1)
 806 034c 00C0      		rjmp 2f
 807 034e 880F      	1:	lsl r24
 808 0350 991F      		rol r25
 809 0352 2A95      	2:	dec r18
 810 0354 02F4      		brpl 1b
 811 0356 8095      		com r24
 812 0358 8323      		and r24,r19
 813               	.L89:
 814 035a 82B9      		out 34-0x20,r24
 815 035c 00C0      		rjmp .L84
 816               	.L92:
 301:../../../src/platform/firefly2_2/source/ulib.c ****                         }
 302:../../../src/platform/firefly2_2/source/ulib.c ****                         break;
 303:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTB:
 304:../../../src/platform/firefly2_2/source/ulib.c ****                         if ((PINB & BM((pin & 0xF8) >> 3)) == 0) {
 818               	.LM63:
 819 035e 43B1      		in r20,35-0x20
 820 0360 8695      		lsr r24
 821 0362 8695      		lsr r24
 822 0364 8695      		lsr r24
 823 0366 50E0      		ldi r21,lo8(0)
 824 0368 082E      		mov r0,r24
 825 036a 00C0      		rjmp 2f
 826 036c 5595      	1:	asr r21
 827 036e 4795      		ror r20
 828 0370 0A94      	2:	dec r0
 829 0372 02F4      		brpl 1b
 830 0374 00C0      		rjmp 2f
 831 0376 220F      	1:	lsl r18
 832 0378 331F      		rol r19
 833 037a 8A95      	2:	dec r24
 834 037c 02F4      		brpl 1b
 835 037e 40FD      		sbrc r20,0
 836 0380 00C0      		rjmp .L78
 305:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTB |= BM((pin & 0xF8) >> 3); } while(0);
 838               	.LM64:
 839 0382 95B1      		in r25,37-0x20
 840 0384 922B      		or r25,r18
 841 0386 95B9      		out 37-0x20,r25
 842 0388 00C0      		rjmp .L84
 843               	.L78:
 306:../../../src/platform/firefly2_2/source/ulib.c ****                         } else {
 307:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTB &= ~BM((pin & 0xF8) >> 3); } while(0);
 845               	.LM65:
 846 038a 85B1      		in r24,37-0x20
 847 038c 2095      		com r18
 848 038e 2823      		and r18,r24
 849 0390 25B9      		out 37-0x20,r18
 850 0392 00C0      		rjmp .L84
 851               	.L71:
 308:../../../src/platform/firefly2_2/source/ulib.c ****                         }
 309:../../../src/platform/firefly2_2/source/ulib.c ****                         break;
 310:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTC:
 311:../../../src/platform/firefly2_2/source/ulib.c ****                         if ((PINC & BM((pin & 0xF8) >> 3)) == 0) {
 853               	.LM66:
 854 0394 96B1      		in r25,38-0x20
 855 0396 8695      		lsr r24
 856 0398 8695      		lsr r24
 857 039a 8695      		lsr r24
 858 039c 282F      		mov r18,r24
 859 039e 892F      		mov r24,r25
 860 03a0 90E0      		ldi r25,lo8(0)
 861 03a2 022E      		mov r0,r18
 862 03a4 00C0      		rjmp 2f
 863 03a6 9595      	1:	asr r25
 864 03a8 8795      		ror r24
 865 03aa 0A94      	2:	dec r0
 866 03ac 02F4      		brpl 1b
 867 03ae 80FD      		sbrc r24,0
 868 03b0 00C0      		rjmp .L79
 312:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTC |= BM((pin & 0xF8) >> 3); } while(0);
 870               	.LM67:
 871 03b2 88B1      		in r24,40-0x20
 872 03b4 41E0      		ldi r20,lo8(1)
 873 03b6 50E0      		ldi r21,hi8(1)
 874 03b8 00C0      		rjmp 2f
 875 03ba 440F      	1:	lsl r20
 876 03bc 551F      		rol r21
 877 03be 2A95      	2:	dec r18
 878 03c0 02F4      		brpl 1b
 879 03c2 842B      		or r24,r20
 880 03c4 00C0      		rjmp .L85
 881               	.L79:
 313:../../../src/platform/firefly2_2/source/ulib.c ****                         } else {
 314:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTC &= ~BM((pin & 0xF8) >> 3); } while(0);
 883               	.LM68:
 884 03c6 38B1      		in r19,40-0x20
 885 03c8 81E0      		ldi r24,lo8(1)
 886 03ca 90E0      		ldi r25,hi8(1)
 887 03cc 00C0      		rjmp 2f
 888 03ce 880F      	1:	lsl r24
 889 03d0 991F      		rol r25
 890 03d2 2A95      	2:	dec r18
 891 03d4 02F4      		brpl 1b
 892 03d6 8095      		com r24
 893 03d8 8323      		and r24,r19
 894               	.L85:
 895 03da 88B9      		out 40-0x20,r24
 896 03dc 00C0      		rjmp .L84
 897               	.L72:
 315:../../../src/platform/firefly2_2/source/ulib.c ****                         }
 316:../../../src/platform/firefly2_2/source/ulib.c ****                         break;
 317:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTD:
 318:../../../src/platform/firefly2_2/source/ulib.c ****                         if ((PIND & BM((pin & 0xF8) >> 3)) == 0) {
 899               	.LM69:
 900 03de 99B1      		in r25,41-0x20
 901 03e0 8695      		lsr r24
 902 03e2 8695      		lsr r24
 903 03e4 8695      		lsr r24
 904 03e6 282F      		mov r18,r24
 905 03e8 892F      		mov r24,r25
 906 03ea 90E0      		ldi r25,lo8(0)
 907 03ec 022E      		mov r0,r18
 908 03ee 00C0      		rjmp 2f
 909 03f0 9595      	1:	asr r25
 910 03f2 8795      		ror r24
 911 03f4 0A94      	2:	dec r0
 912 03f6 02F4      		brpl 1b
 913 03f8 80FD      		sbrc r24,0
 914 03fa 00C0      		rjmp .L80
 319:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTD |= BM((pin & 0xF8) >> 3); } while(0);
 916               	.LM70:
 917 03fc 8BB1      		in r24,43-0x20
 918 03fe 41E0      		ldi r20,lo8(1)
 919 0400 50E0      		ldi r21,hi8(1)
 920 0402 00C0      		rjmp 2f
 921 0404 440F      	1:	lsl r20
 922 0406 551F      		rol r21
 923 0408 2A95      	2:	dec r18
 924 040a 02F4      		brpl 1b
 925 040c 842B      		or r24,r20
 926 040e 00C0      		rjmp .L86
 927               	.L80:
 320:../../../src/platform/firefly2_2/source/ulib.c ****                         } else {
 321:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTD &= ~BM((pin & 0xF8) >> 3); } while(0);
 929               	.LM71:
 930 0410 3BB1      		in r19,43-0x20
 931 0412 81E0      		ldi r24,lo8(1)
 932 0414 90E0      		ldi r25,hi8(1)
 933 0416 00C0      		rjmp 2f
 934 0418 880F      	1:	lsl r24
 935 041a 991F      		rol r25
 936 041c 2A95      	2:	dec r18
 937 041e 02F4      		brpl 1b
 938 0420 8095      		com r24
 939 0422 8323      		and r24,r19
 940               	.L86:
 941 0424 8BB9      		out 43-0x20,r24
 942 0426 00C0      		rjmp .L84
 943               	.L73:
 322:../../../src/platform/firefly2_2/source/ulib.c ****                         }
 323:../../../src/platform/firefly2_2/source/ulib.c ****                         break;
 324:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTE:
 325:../../../src/platform/firefly2_2/source/ulib.c ****                         if ((PINE & BM((pin & 0xF8) >> 3)) == 0) {
 945               	.LM72:
 946 0428 9CB1      		in r25,44-0x20
 947 042a 8695      		lsr r24
 948 042c 8695      		lsr r24
 949 042e 8695      		lsr r24
 950 0430 282F      		mov r18,r24
 951 0432 892F      		mov r24,r25
 952 0434 90E0      		ldi r25,lo8(0)
 953 0436 022E      		mov r0,r18
 954 0438 00C0      		rjmp 2f
 955 043a 9595      	1:	asr r25
 956 043c 8795      		ror r24
 957 043e 0A94      	2:	dec r0
 958 0440 02F4      		brpl 1b
 959 0442 80FD      		sbrc r24,0
 960 0444 00C0      		rjmp .L81
 326:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTE |= BM((pin & 0xF8) >> 3); } while(0);
 962               	.LM73:
 963 0446 8EB1      		in r24,46-0x20
 964 0448 41E0      		ldi r20,lo8(1)
 965 044a 50E0      		ldi r21,hi8(1)
 966 044c 00C0      		rjmp 2f
 967 044e 440F      	1:	lsl r20
 968 0450 551F      		rol r21
 969 0452 2A95      	2:	dec r18
 970 0454 02F4      		brpl 1b
 971 0456 842B      		or r24,r20
 972 0458 00C0      		rjmp .L87
 973               	.L81:
 327:../../../src/platform/firefly2_2/source/ulib.c ****                         } else {
 328:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTE &= ~BM((pin & 0xF8) >> 3); } while(0);
 975               	.LM74:
 976 045a 3EB1      		in r19,46-0x20
 977 045c 81E0      		ldi r24,lo8(1)
 978 045e 90E0      		ldi r25,hi8(1)
 979 0460 00C0      		rjmp 2f
 980 0462 880F      	1:	lsl r24
 981 0464 991F      		rol r25
 982 0466 2A95      	2:	dec r18
 983 0468 02F4      		brpl 1b
 984 046a 8095      		com r24
 985 046c 8323      		and r24,r19
 986               	.L87:
 987 046e 8EB9      		out 46-0x20,r24
 988 0470 00C0      		rjmp .L84
 989               	.L93:
 329:../../../src/platform/firefly2_2/source/ulib.c ****                         }
 330:../../../src/platform/firefly2_2/source/ulib.c ****                         break;
 331:../../../src/platform/firefly2_2/source/ulib.c ****                 case NRK_PORTF:
 332:../../../src/platform/firefly2_2/source/ulib.c ****                         if ((PINF & BM((pin & 0xF8) >> 3)) == 0) {
 991               	.LM75:
 992 0472 9FB1      		in r25,47-0x20
 993 0474 8695      		lsr r24
 994 0476 8695      		lsr r24
 995 0478 8695      		lsr r24
 996 047a 282F      		mov r18,r24
 997 047c 892F      		mov r24,r25
 998 047e 90E0      		ldi r25,lo8(0)
 999 0480 022E      		mov r0,r18
 1000 0482 00C0      		rjmp 2f
 1001 0484 9595      	1:	asr r25
 1002 0486 8795      		ror r24
 1003 0488 0A94      	2:	dec r0
 1004 048a 02F4      		brpl 1b
 1005 048c 80FD      		sbrc r24,0
 1006 048e 00C0      		rjmp .L82
 333:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTF |= BM((pin & 0xF8) >> 3); } while(0);
 1008               	.LM76:
 1009 0490 81B3      		in r24,49-0x20
 1010 0492 41E0      		ldi r20,lo8(1)
 1011 0494 50E0      		ldi r21,hi8(1)
 1012 0496 00C0      		rjmp 2f
 1013 0498 440F      	1:	lsl r20
 1014 049a 551F      		rol r21
 1015 049c 2A95      	2:	dec r18
 1016 049e 02F4      		brpl 1b
 1017 04a0 842B      		or r24,r20
 1018 04a2 00C0      		rjmp .L88
 1019               	.L82:
 334:../../../src/platform/firefly2_2/source/ulib.c ****                         } else {
 335:../../../src/platform/firefly2_2/source/ulib.c ****                                 do { PORTF &= ~BM((pin & 0xF8) >> 3); } while(0);
 1021               	.LM77:
 1022 04a4 31B3      		in r19,49-0x20
 1023 04a6 81E0      		ldi r24,lo8(1)
 1024 04a8 90E0      		ldi r25,hi8(1)
 1025 04aa 00C0      		rjmp 2f
 1026 04ac 880F      	1:	lsl r24
 1027 04ae 991F      		rol r25
 1028 04b0 2A95      	2:	dec r18
 1029 04b2 02F4      		brpl 1b
 1030 04b4 8095      		com r24
 1031 04b6 8323      		and r24,r19
 1032               	.L88:
 1033 04b8 81BB      		out 49-0x20,r24
 1034               	.L84:
 1035 04ba 81E0      		ldi r24,lo8(1)
 1036 04bc 0895      		ret
 1037               	.L68:
 1038 04be 8FEF      		ldi r24,lo8(-1)
 336:../../../src/platform/firefly2_2/source/ulib.c ****                         }
 337:../../../src/platform/firefly2_2/source/ulib.c ****                         break;
 338:../../../src/platform/firefly2_2/source/ulib.c ****                 default: return -1;
 339:../../../src/platform/firefly2_2/source/ulib.c ****         }
 340:../../../src/platform/firefly2_2/source/ulib.c ****         return 1;
 341:../../../src/platform/firefly2_2/source/ulib.c **** }
 1040               	.LM78:
 1041 04c0 0895      		ret
 1043               	.Lscope9:
 1045               		.stabd	78,0,0
 1049               	.global	nrk_gpio_direction
 1051               	nrk_gpio_direction:
 1052               		.stabd	46,0,0
 342:../../../src/platform/firefly2_2/source/ulib.c **** 
 343:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_gpio_direction(uint8_t pin, uint8_t pin_direction)
 344:../../../src/platform/firefly2_2/source/ulib.c **** {
 1054               	.LM79:
 1055               	.LFBB10:
 1056               	/* prologue: function */
 1057               	/* frame size = 0 */
 345:../../../src/platform/firefly2_2/source/ulib.c ****         if (pin == NRK_INVALID_PIN_VAL) return -1;
 1059               	.LM80:
 1060 04c2 8F3F      		cpi r24,lo8(-1)
 1061 04c4 01F4      		brne .+2
 1062 04c6 00C0      		rjmp .L95
 1063 04c8 282F      		mov r18,r24
 1064 04ca 30E0      		ldi r19,lo8(0)
 346:../../../src/platform/firefly2_2/source/ulib.c ****         if (pin_direction == NRK_PIN_INPUT) {
 1066               	.LM81:
 1067 04cc 6623      		tst r22
 1068 04ce 01F0      		breq .+2
 1069 04d0 00C0      		rjmp .L96
 347:../../../src/platform/firefly2_2/source/ulib.c ****                 switch (pin & 0x07) {
 1071               	.LM82:
 1072 04d2 2770      		andi r18,lo8(7)
 1073 04d4 3070      		andi r19,hi8(7)
 1074 04d6 2230      		cpi r18,2
 1075 04d8 3105      		cpc r19,__zero_reg__
 1076 04da 01F0      		breq .L99
 1077 04dc 2330      		cpi r18,3
 1078 04de 3105      		cpc r19,__zero_reg__
 1079 04e0 04F4      		brge .L103
 1080 04e2 2115      		cp r18,__zero_reg__
 1081 04e4 3105      		cpc r19,__zero_reg__
 1082 04e6 01F0      		breq .L97
 1083 04e8 2130      		cpi r18,1
 1084 04ea 3105      		cpc r19,__zero_reg__
 1085 04ec 01F0      		breq .+2
 1086 04ee 00C0      		rjmp .L95
 1087 04f0 00C0      		rjmp .L118
 1088               	.L103:
 1089 04f2 2430      		cpi r18,4
 1090 04f4 3105      		cpc r19,__zero_reg__
 1091 04f6 01F4      		brne .+2
 1092 04f8 00C0      		rjmp .L101
 1093 04fa 2430      		cpi r18,4
 1094 04fc 3105      		cpc r19,__zero_reg__
 1095 04fe 04F4      		brge .+2
 1096 0500 00C0      		rjmp .L100
 1097 0502 2530      		cpi r18,5
 1098 0504 3105      		cpc r19,__zero_reg__
 1099 0506 01F0      		breq .+2
 1100 0508 00C0      		rjmp .L95
 1101 050a 00C0      		rjmp .L119
 1102               	.L97:
 348:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTA:
 349:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRA &= ~BM((pin & 0xF8) >> 3); 
 1104               	.LM83:
 1105 050c 91B1      		in r25,33-0x20
 1106 050e 8695      		lsr r24
 1107 0510 8695      		lsr r24
 1108 0512 8695      		lsr r24
 1109 0514 21E0      		ldi r18,lo8(1)
 1110 0516 30E0      		ldi r19,hi8(1)
 1111 0518 00C0      		rjmp 2f
 1112 051a 220F      	1:	lsl r18
 1113 051c 331F      		rol r19
 1114 051e 8A95      	2:	dec r24
 1115 0520 02F4      		brpl 1b
 1116 0522 822F      		mov r24,r18
 1117 0524 8095      		com r24
 1118 0526 8923      		and r24,r25
 1119 0528 81B9      		out 33-0x20,r24
 350:../../../src/platform/firefly2_2/source/ulib.c ****                                 PORTA |= BM((pin & 0xF8) >> 3); 
 1121               	.LM84:
 1122 052a 82B1      		in r24,34-0x20
 1123 052c 822B      		or r24,r18
 1124 052e 82B9      		out 34-0x20,r24
 1125 0530 00C0      		rjmp .L113
 1126               	.L118:
 351:../../../src/platform/firefly2_2/source/ulib.c ****                                 break;
 352:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTB:
 353:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRB &= ~BM((pin & 0xF8) >> 3); 
 1128               	.LM85:
 1129 0532 44B1      		in r20,36-0x20
 1130 0534 8695      		lsr r24
 1131 0536 8695      		lsr r24
 1132 0538 8695      		lsr r24
 1133 053a 00C0      		rjmp 2f
 1134 053c 220F      	1:	lsl r18
 1135 053e 331F      		rol r19
 1136 0540 8A95      	2:	dec r24
 1137 0542 02F4      		brpl 1b
 1138 0544 922F      		mov r25,r18
 1139 0546 9095      		com r25
 1140 0548 9423      		and r25,r20
 1141 054a 94B9      		out 36-0x20,r25
 354:../../../src/platform/firefly2_2/source/ulib.c ****                                 PORTB |= BM((pin & 0xF8) >> 3); 
 1143               	.LM86:
 1144 054c 95B1      		in r25,37-0x20
 1145 054e 922B      		or r25,r18
 1146 0550 95B9      		out 37-0x20,r25
 1147 0552 00C0      		rjmp .L113
 1148               	.L99:
 355:../../../src/platform/firefly2_2/source/ulib.c ****                                 break;
 356:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTC:
 357:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRC &= ~BM((pin & 0xF8) >> 3); 
 1150               	.LM87:
 1151 0554 97B1      		in r25,39-0x20
 1152 0556 8695      		lsr r24
 1153 0558 8695      		lsr r24
 1154 055a 8695      		lsr r24
 1155 055c 21E0      		ldi r18,lo8(1)
 1156 055e 30E0      		ldi r19,hi8(1)
 1157 0560 00C0      		rjmp 2f
 1158 0562 220F      	1:	lsl r18
 1159 0564 331F      		rol r19
 1160 0566 8A95      	2:	dec r24
 1161 0568 02F4      		brpl 1b
 1162 056a 822F      		mov r24,r18
 1163 056c 8095      		com r24
 1164 056e 8923      		and r24,r25
 1165 0570 87B9      		out 39-0x20,r24
 358:../../../src/platform/firefly2_2/source/ulib.c ****                                 PORTC |= BM((pin & 0xF8) >> 3); 
 1167               	.LM88:
 1168 0572 88B1      		in r24,40-0x20
 1169 0574 822B      		or r24,r18
 1170 0576 88B9      		out 40-0x20,r24
 1171 0578 00C0      		rjmp .L113
 1172               	.L100:
 359:../../../src/platform/firefly2_2/source/ulib.c ****                                 break;
 360:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTD:
 361:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRD &= ~BM((pin & 0xF8) >> 3); 
 1174               	.LM89:
 1175 057a 9AB1      		in r25,42-0x20
 1176 057c 8695      		lsr r24
 1177 057e 8695      		lsr r24
 1178 0580 8695      		lsr r24
 1179 0582 21E0      		ldi r18,lo8(1)
 1180 0584 30E0      		ldi r19,hi8(1)
 1181 0586 00C0      		rjmp 2f
 1182 0588 220F      	1:	lsl r18
 1183 058a 331F      		rol r19
 1184 058c 8A95      	2:	dec r24
 1185 058e 02F4      		brpl 1b
 1186 0590 822F      		mov r24,r18
 1187 0592 8095      		com r24
 1188 0594 8923      		and r24,r25
 1189 0596 8AB9      		out 42-0x20,r24
 362:../../../src/platform/firefly2_2/source/ulib.c ****                                 PORTD |= BM((pin & 0xF8) >> 3); 
 1191               	.LM90:
 1192 0598 8BB1      		in r24,43-0x20
 1193 059a 822B      		or r24,r18
 1194 059c 8BB9      		out 43-0x20,r24
 1195 059e 00C0      		rjmp .L113
 1196               	.L101:
 363:../../../src/platform/firefly2_2/source/ulib.c ****                                 break;
 364:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTE:
 365:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRE &= ~BM((pin & 0xF8) >> 3); 
 1198               	.LM91:
 1199 05a0 9DB1      		in r25,45-0x20
 1200 05a2 8695      		lsr r24
 1201 05a4 8695      		lsr r24
 1202 05a6 8695      		lsr r24
 1203 05a8 21E0      		ldi r18,lo8(1)
 1204 05aa 30E0      		ldi r19,hi8(1)
 1205 05ac 00C0      		rjmp 2f
 1206 05ae 220F      	1:	lsl r18
 1207 05b0 331F      		rol r19
 1208 05b2 8A95      	2:	dec r24
 1209 05b4 02F4      		brpl 1b
 1210 05b6 822F      		mov r24,r18
 1211 05b8 8095      		com r24
 1212 05ba 8923      		and r24,r25
 1213 05bc 8DB9      		out 45-0x20,r24
 366:../../../src/platform/firefly2_2/source/ulib.c ****                                 PORTE |= BM((pin & 0xF8) >> 3); 
 1215               	.LM92:
 1216 05be 8EB1      		in r24,46-0x20
 1217 05c0 822B      		or r24,r18
 1218 05c2 8EB9      		out 46-0x20,r24
 1219 05c4 00C0      		rjmp .L113
 1220               	.L119:
 367:../../../src/platform/firefly2_2/source/ulib.c ****                                 break;
 368:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTF:
 369:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRF &= ~BM((pin & 0xF8) >> 3);
 1222               	.LM93:
 1223 05c6 90B3      		in r25,48-0x20
 1224 05c8 8695      		lsr r24
 1225 05ca 8695      		lsr r24
 1226 05cc 8695      		lsr r24
 1227 05ce 21E0      		ldi r18,lo8(1)
 1228 05d0 30E0      		ldi r19,hi8(1)
 1229 05d2 00C0      		rjmp 2f
 1230 05d4 220F      	1:	lsl r18
 1231 05d6 331F      		rol r19
 1232 05d8 8A95      	2:	dec r24
 1233 05da 02F4      		brpl 1b
 1234 05dc 822F      		mov r24,r18
 1235 05de 8095      		com r24
 1236 05e0 8923      		and r24,r25
 1237 05e2 80BB      		out 48-0x20,r24
 370:../../../src/platform/firefly2_2/source/ulib.c ****                                 PORTF |= BM((pin & 0xF8) >> 3); 
 1239               	.LM94:
 1240 05e4 81B3      		in r24,49-0x20
 1241 05e6 822B      		or r24,r18
 1242 05e8 81BB      		out 49-0x20,r24
 1243 05ea 00C0      		rjmp .L113
 1244               	.L96:
 371:../../../src/platform/firefly2_2/source/ulib.c ****                                 break;
 372:../../../src/platform/firefly2_2/source/ulib.c ****                         default: return -1;
 373:../../../src/platform/firefly2_2/source/ulib.c ****                 }
 374:../../../src/platform/firefly2_2/source/ulib.c ****         } else {
 375:../../../src/platform/firefly2_2/source/ulib.c ****                 switch (pin & 0x07) {
 1246               	.LM95:
 1247 05ec 2770      		andi r18,lo8(7)
 1248 05ee 3070      		andi r19,hi8(7)
 1249 05f0 2230      		cpi r18,2
 1250 05f2 3105      		cpc r19,__zero_reg__
 1251 05f4 01F0      		breq .L107
 1252 05f6 2330      		cpi r18,3
 1253 05f8 3105      		cpc r19,__zero_reg__
 1254 05fa 04F4      		brge .L111
 1255 05fc 2115      		cp r18,__zero_reg__
 1256 05fe 3105      		cpc r19,__zero_reg__
 1257 0600 01F0      		breq .L105
 1258 0602 2130      		cpi r18,1
 1259 0604 3105      		cpc r19,__zero_reg__
 1260 0606 01F0      		breq .+2
 1261 0608 00C0      		rjmp .L95
 1262 060a 00C0      		rjmp .L120
 1263               	.L111:
 1264 060c 2430      		cpi r18,4
 1265 060e 3105      		cpc r19,__zero_reg__
 1266 0610 01F4      		brne .+2
 1267 0612 00C0      		rjmp .L109
 1268 0614 2430      		cpi r18,4
 1269 0616 3105      		cpc r19,__zero_reg__
 1270 0618 04F0      		brlt .L108
 1271 061a 2530      		cpi r18,5
 1272 061c 3105      		cpc r19,__zero_reg__
 1273 061e 01F0      		breq .+2
 1274 0620 00C0      		rjmp .L95
 1275 0622 00C0      		rjmp .L121
 1276               	.L105:
 376:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTA:
 377:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRA |= BM((pin & 0xF8) >> 3); break;
 1278               	.LM96:
 1279 0624 91B1      		in r25,33-0x20
 1280 0626 8695      		lsr r24
 1281 0628 8695      		lsr r24
 1282 062a 8695      		lsr r24
 1283 062c 21E0      		ldi r18,lo8(1)
 1284 062e 30E0      		ldi r19,hi8(1)
 1285 0630 00C0      		rjmp 2f
 1286 0632 220F      	1:	lsl r18
 1287 0634 331F      		rol r19
 1288 0636 8A95      	2:	dec r24
 1289 0638 02F4      		brpl 1b
 1290 063a 922B      		or r25,r18
 1291 063c 91B9      		out 33-0x20,r25
 1292 063e 00C0      		rjmp .L113
 1293               	.L120:
 378:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTB:
 379:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRB |= BM((pin & 0xF8) >> 3); break;
 1295               	.LM97:
 1296 0640 94B1      		in r25,36-0x20
 1297 0642 8695      		lsr r24
 1298 0644 8695      		lsr r24
 1299 0646 8695      		lsr r24
 1300 0648 00C0      		rjmp 2f
 1301 064a 220F      	1:	lsl r18
 1302 064c 331F      		rol r19
 1303 064e 8A95      	2:	dec r24
 1304 0650 02F4      		brpl 1b
 1305 0652 922B      		or r25,r18
 1306 0654 94B9      		out 36-0x20,r25
 1307 0656 00C0      		rjmp .L113
 1308               	.L107:
 380:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTC:
 381:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRC |= BM((pin & 0xF8) >> 3); break;
 1310               	.LM98:
 1311 0658 97B1      		in r25,39-0x20
 1312 065a 8695      		lsr r24
 1313 065c 8695      		lsr r24
 1314 065e 8695      		lsr r24
 1315 0660 21E0      		ldi r18,lo8(1)
 1316 0662 30E0      		ldi r19,hi8(1)
 1317 0664 00C0      		rjmp 2f
 1318 0666 220F      	1:	lsl r18
 1319 0668 331F      		rol r19
 1320 066a 8A95      	2:	dec r24
 1321 066c 02F4      		brpl 1b
 1322 066e 922B      		or r25,r18
 1323 0670 97B9      		out 39-0x20,r25
 1324 0672 00C0      		rjmp .L113
 1325               	.L108:
 382:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTD:
 383:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRD |= BM((pin & 0xF8) >> 3); break;
 1327               	.LM99:
 1328 0674 9AB1      		in r25,42-0x20
 1329 0676 8695      		lsr r24
 1330 0678 8695      		lsr r24
 1331 067a 8695      		lsr r24
 1332 067c 21E0      		ldi r18,lo8(1)
 1333 067e 30E0      		ldi r19,hi8(1)
 1334 0680 00C0      		rjmp 2f
 1335 0682 220F      	1:	lsl r18
 1336 0684 331F      		rol r19
 1337 0686 8A95      	2:	dec r24
 1338 0688 02F4      		brpl 1b
 1339 068a 922B      		or r25,r18
 1340 068c 9AB9      		out 42-0x20,r25
 1341 068e 00C0      		rjmp .L113
 1342               	.L109:
 384:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTE:
 385:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRE |= BM((pin & 0xF8) >> 3); break;
 1344               	.LM100:
 1345 0690 9DB1      		in r25,45-0x20
 1346 0692 8695      		lsr r24
 1347 0694 8695      		lsr r24
 1348 0696 8695      		lsr r24
 1349 0698 21E0      		ldi r18,lo8(1)
 1350 069a 30E0      		ldi r19,hi8(1)
 1351 069c 00C0      		rjmp 2f
 1352 069e 220F      	1:	lsl r18
 1353 06a0 331F      		rol r19
 1354 06a2 8A95      	2:	dec r24
 1355 06a4 02F4      		brpl 1b
 1356 06a6 922B      		or r25,r18
 1357 06a8 9DB9      		out 45-0x20,r25
 1358 06aa 00C0      		rjmp .L113
 1359               	.L121:
 386:../../../src/platform/firefly2_2/source/ulib.c ****                         case NRK_PORTF:
 387:../../../src/platform/firefly2_2/source/ulib.c ****                                 DDRF |= BM((pin & 0xF8) >> 3); break;
 1361               	.LM101:
 1362 06ac 90B3      		in r25,48-0x20
 1363 06ae 8695      		lsr r24
 1364 06b0 8695      		lsr r24
 1365 06b2 8695      		lsr r24
 1366 06b4 21E0      		ldi r18,lo8(1)
 1367 06b6 30E0      		ldi r19,hi8(1)
 1368 06b8 00C0      		rjmp 2f
 1369 06ba 220F      	1:	lsl r18
 1370 06bc 331F      		rol r19
 1371 06be 8A95      	2:	dec r24
 1372 06c0 02F4      		brpl 1b
 1373 06c2 922B      		or r25,r18
 1374 06c4 90BB      		out 48-0x20,r25
 1375               	.L113:
 1376 06c6 81E0      		ldi r24,lo8(1)
 1377 06c8 0895      		ret
 1378               	.L95:
 1379 06ca 8FEF      		ldi r24,lo8(-1)
 388:../../../src/platform/firefly2_2/source/ulib.c ****                         default: return -1;
 389:../../../src/platform/firefly2_2/source/ulib.c ****                 }
 390:../../../src/platform/firefly2_2/source/ulib.c ****         }
 391:../../../src/platform/firefly2_2/source/ulib.c ****         return 1;
 392:../../../src/platform/firefly2_2/source/ulib.c **** }
 1381               	.LM102:
 1382 06cc 0895      		ret
 1384               	.Lscope10:
 1386               		.stabd	78,0,0
 1389               	.global	nrk_get_button
 1391               	nrk_get_button:
 1392               		.stabd	46,0,0
 393:../../../src/platform/firefly2_2/source/ulib.c **** 
 394:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_get_button(uint8_t b)
 395:../../../src/platform/firefly2_2/source/ulib.c **** {
 1394               	.LM103:
 1395               	.LFBB11:
 1396               	/* prologue: function */
 1397               	/* frame size = 0 */
 396:../../../src/platform/firefly2_2/source/ulib.c **** if(b==0) {
 1399               	.LM104:
 1400 06ce 8823      		tst r24
 1401 06d0 01F0      		breq .L123
 1402 06d2 8FEF      		ldi r24,lo8(-1)
 1403 06d4 0895      		ret
 1404               	.L123:
 397:../../../src/platform/firefly2_2/source/ulib.c **** 	 return( !(PINA & BM(BUTTON))); 
 1406               	.LM105:
 1407 06d6 80B1      		in r24,32-0x20
 1408 06d8 8095      		com r24
 1409 06da 881F      		rol r24
 1410 06dc 8827      		clr r24
 1411 06de 881F      		rol r24
 398:../../../src/platform/firefly2_2/source/ulib.c **** 	} 
 399:../../../src/platform/firefly2_2/source/ulib.c **** return -1;
 400:../../../src/platform/firefly2_2/source/ulib.c **** }
 1413               	.LM106:
 1414 06e0 0895      		ret
 1416               	.Lscope11:
 1418               		.stabd	78,0,0
 1421               	.global	nrk_led_toggle
 1423               	nrk_led_toggle:
 1424               		.stabd	46,0,0
 401:../../../src/platform/firefly2_2/source/ulib.c **** 
 402:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_led_toggle( int led )
 403:../../../src/platform/firefly2_2/source/ulib.c **** {
 1426               	.LM107:
 1427               	.LFBB12:
 1428               	/* prologue: function */
 1429               	/* frame size = 0 */
 404:../../../src/platform/firefly2_2/source/ulib.c **** if(led==0) { nrk_gpio_toggle(NRK_LED_0); return 1; }
 1431               	.LM108:
 1432 06e2 0097      		sbiw r24,0
 1433 06e4 01F4      		brne .L128
 1434 06e6 84E1      		ldi r24,lo8(20)
 1435 06e8 00C0      		rjmp .L134
 1436               	.L128:
 405:../../../src/platform/firefly2_2/source/ulib.c **** if(led==1) { nrk_gpio_toggle(NRK_LED_1); return 1; }
 1438               	.LM109:
 1439 06ea 8130      		cpi r24,1
 1440 06ec 9105      		cpc r25,__zero_reg__
 1441 06ee 01F4      		brne .L130
 1442 06f0 8CE1      		ldi r24,lo8(28)
 1443 06f2 00C0      		rjmp .L134
 1444               	.L130:
 406:../../../src/platform/firefly2_2/source/ulib.c **** if(led==2) { nrk_gpio_toggle(NRK_LED_2); return 1; }
 1446               	.LM110:
 1447 06f4 8230      		cpi r24,2
 1448 06f6 9105      		cpc r25,__zero_reg__
 1449 06f8 01F4      		brne .L131
 1450 06fa 84E2      		ldi r24,lo8(36)
 1451               	.L134:
 1452 06fc 0E94 0000 		call nrk_gpio_toggle
 1453 0700 81E0      		ldi r24,lo8(1)
 1454 0702 0895      		ret
 1455               	.L131:
 407:../../../src/platform/firefly2_2/source/ulib.c **** if(led==3) { nrk_gpio_toggle(NRK_LED_3); return 1; }
 1457               	.LM111:
 1458 0704 8330      		cpi r24,3
 1459 0706 9105      		cpc r25,__zero_reg__
 1460 0708 01F0      		breq .L132
 1461 070a 8FEF      		ldi r24,lo8(-1)
 1462 070c 0895      		ret
 1463               	.L132:
 1464 070e 8CE2      		ldi r24,lo8(44)
 1465 0710 0E94 0000 		call nrk_gpio_toggle
 1466 0714 81E0      		ldi r24,lo8(1)
 408:../../../src/platform/firefly2_2/source/ulib.c **** return -1;
 409:../../../src/platform/firefly2_2/source/ulib.c **** }
 1468               	.LM112:
 1469 0716 0895      		ret
 1471               	.Lscope12:
 1473               		.stabd	78,0,0
 1476               	.global	nrk_led_clr
 1478               	nrk_led_clr:
 1479               		.stabd	46,0,0
 410:../../../src/platform/firefly2_2/source/ulib.c **** 
 411:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_led_clr( int led )
 412:../../../src/platform/firefly2_2/source/ulib.c **** {
 1481               	.LM113:
 1482               	.LFBB13:
 1483               	/* prologue: function */
 1484               	/* frame size = 0 */
 413:../../../src/platform/firefly2_2/source/ulib.c **** if(led==0) { nrk_gpio_set(NRK_LED_0); return 1; }
 1486               	.LM114:
 1487 0718 0097      		sbiw r24,0
 1488 071a 01F4      		brne .L136
 1489 071c 84E1      		ldi r24,lo8(20)
 1490 071e 00C0      		rjmp .L142
 1491               	.L136:
 414:../../../src/platform/firefly2_2/source/ulib.c **** if(led==1) { nrk_gpio_set(NRK_LED_1); return 1; }
 1493               	.LM115:
 1494 0720 8130      		cpi r24,1
 1495 0722 9105      		cpc r25,__zero_reg__
 1496 0724 01F4      		brne .L138
 1497 0726 8CE1      		ldi r24,lo8(28)
 1498 0728 00C0      		rjmp .L142
 1499               	.L138:
 415:../../../src/platform/firefly2_2/source/ulib.c **** if(led==2) { nrk_gpio_set(NRK_LED_2); return 1; }
 1501               	.LM116:
 1502 072a 8230      		cpi r24,2
 1503 072c 9105      		cpc r25,__zero_reg__
 1504 072e 01F4      		brne .L139
 1505 0730 84E2      		ldi r24,lo8(36)
 1506               	.L142:
 1507 0732 0E94 0000 		call nrk_gpio_set
 1508 0736 81E0      		ldi r24,lo8(1)
 1509 0738 0895      		ret
 1510               	.L139:
 416:../../../src/platform/firefly2_2/source/ulib.c **** if(led==3) { nrk_gpio_set(NRK_LED_3); return 1; }
 1512               	.LM117:
 1513 073a 8330      		cpi r24,3
 1514 073c 9105      		cpc r25,__zero_reg__
 1515 073e 01F0      		breq .L140
 1516 0740 8FEF      		ldi r24,lo8(-1)
 1517 0742 0895      		ret
 1518               	.L140:
 1519 0744 8CE2      		ldi r24,lo8(44)
 1520 0746 0E94 0000 		call nrk_gpio_set
 1521 074a 81E0      		ldi r24,lo8(1)
 417:../../../src/platform/firefly2_2/source/ulib.c **** return -1;
 418:../../../src/platform/firefly2_2/source/ulib.c **** }
 1523               	.LM118:
 1524 074c 0895      		ret
 1526               	.Lscope13:
 1528               		.stabd	78,0,0
 1531               	.global	nrk_led_set
 1533               	nrk_led_set:
 1534               		.stabd	46,0,0
 419:../../../src/platform/firefly2_2/source/ulib.c **** 
 420:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_led_set( int led )
 421:../../../src/platform/firefly2_2/source/ulib.c **** {
 1536               	.LM119:
 1537               	.LFBB14:
 1538               	/* prologue: function */
 1539               	/* frame size = 0 */
 422:../../../src/platform/firefly2_2/source/ulib.c **** if(led==0) { nrk_gpio_clr(NRK_LED_0); return 1; }
 1541               	.LM120:
 1542 074e 0097      		sbiw r24,0
 1543 0750 01F4      		brne .L144
 1544 0752 84E1      		ldi r24,lo8(20)
 1545 0754 00C0      		rjmp .L150
 1546               	.L144:
 423:../../../src/platform/firefly2_2/source/ulib.c **** if(led==1) { nrk_gpio_clr(NRK_LED_1); return 1; }
 1548               	.LM121:
 1549 0756 8130      		cpi r24,1
 1550 0758 9105      		cpc r25,__zero_reg__
 1551 075a 01F4      		brne .L146
 1552 075c 8CE1      		ldi r24,lo8(28)
 1553 075e 00C0      		rjmp .L150
 1554               	.L146:
 424:../../../src/platform/firefly2_2/source/ulib.c **** if(led==2) { nrk_gpio_clr(NRK_LED_2); return 1; }
 1556               	.LM122:
 1557 0760 8230      		cpi r24,2
 1558 0762 9105      		cpc r25,__zero_reg__
 1559 0764 01F4      		brne .L147
 1560 0766 84E2      		ldi r24,lo8(36)
 1561               	.L150:
 1562 0768 0E94 0000 		call nrk_gpio_clr
 1563 076c 81E0      		ldi r24,lo8(1)
 1564 076e 0895      		ret
 1565               	.L147:
 425:../../../src/platform/firefly2_2/source/ulib.c **** if(led==3) { nrk_gpio_clr(NRK_LED_3); return 1; }
 1567               	.LM123:
 1568 0770 8330      		cpi r24,3
 1569 0772 9105      		cpc r25,__zero_reg__
 1570 0774 01F0      		breq .L148
 1571 0776 8FEF      		ldi r24,lo8(-1)
 1572 0778 0895      		ret
 1573               	.L148:
 1574 077a 8CE2      		ldi r24,lo8(44)
 1575 077c 0E94 0000 		call nrk_gpio_clr
 1576 0780 81E0      		ldi r24,lo8(1)
 426:../../../src/platform/firefly2_2/source/ulib.c **** return -1;
 427:../../../src/platform/firefly2_2/source/ulib.c **** }
 1578               	.LM124:
 1579 0782 0895      		ret
 1581               	.Lscope14:
 1583               		.stabd	78,0,0
 1586               	.global	nrk_gpio_pullups
 1588               	nrk_gpio_pullups:
 1589               		.stabd	46,0,0
 428:../../../src/platform/firefly2_2/source/ulib.c **** 
 429:../../../src/platform/firefly2_2/source/ulib.c **** int8_t nrk_gpio_pullups(uint8_t enable)
 430:../../../src/platform/firefly2_2/source/ulib.c **** {
 1591               	.LM125:
 1592               	.LFBB15:
 1593               	/* prologue: function */
 1594               	/* frame size = 0 */
 431:../../../src/platform/firefly2_2/source/ulib.c **** if(enable) MCUCR &= ~BM(PUD);
 1596               	.LM126:
 1597 0784 8823      		tst r24
 1598 0786 01F0      		breq .L152
 1599 0788 85B7      		in r24,85-0x20
 1600 078a 8F7E      		andi r24,lo8(-17)
 1601 078c 00C0      		rjmp .L155
 1602               	.L152:
 432:../../../src/platform/firefly2_2/source/ulib.c **** else MCUCR |= BM(PUD);
 1604               	.LM127:
 1605 078e 85B7      		in r24,85-0x20
 1606 0790 8061      		ori r24,lo8(16)
 1607               	.L155:
 1608 0792 85BF      		out 85-0x20,r24
 433:../../../src/platform/firefly2_2/source/ulib.c **** return NRK_OK;
 434:../../../src/platform/firefly2_2/source/ulib.c **** }
 1610               	.LM128:
 1611 0794 81E0      		ldi r24,lo8(1)
 1612               	/* epilogue start */
 1613 0796 0895      		ret
 1615               	.Lscope15:
 1617               		.stabd	78,0,0
 1620               	.global	putc0
 1622               	putc0:
 1623               		.stabd	46,0,0
 435:../../../src/platform/firefly2_2/source/ulib.c **** 
 436:../../../src/platform/firefly2_2/source/ulib.c **** 
 437:../../../src/platform/firefly2_2/source/ulib.c **** /*
 438:../../../src/platform/firefly2_2/source/ulib.c **** void IO_SET_E(uint8_t pin)
 439:../../../src/platform/firefly2_2/source/ulib.c **** {
 440:../../../src/platform/firefly2_2/source/ulib.c **** PORTE |= BM(pin);
 441:../../../src/platform/firefly2_2/source/ulib.c **** }
 442:../../../src/platform/firefly2_2/source/ulib.c **** 
 443:../../../src/platform/firefly2_2/source/ulib.c **** void IO_CLR_E(uint8_t pin)
 444:../../../src/platform/firefly2_2/source/ulib.c **** {
 445:../../../src/platform/firefly2_2/source/ulib.c **** PORTE &= ~BM(pin);
 446:../../../src/platform/firefly2_2/source/ulib.c **** }
 447:../../../src/platform/firefly2_2/source/ulib.c **** 
 448:../../../src/platform/firefly2_2/source/ulib.c **** void IO_SET_F(uint8_t pin)
 449:../../../src/platform/firefly2_2/source/ulib.c **** {
 450:../../../src/platform/firefly2_2/source/ulib.c **** PORTF |= BM(pin);
 451:../../../src/platform/firefly2_2/source/ulib.c **** }
 452:../../../src/platform/firefly2_2/source/ulib.c **** 
 453:../../../src/platform/firefly2_2/source/ulib.c **** void IO_CLR_F(uint8_t pin)
 454:../../../src/platform/firefly2_2/source/ulib.c **** {
 455:../../../src/platform/firefly2_2/source/ulib.c **** PORTF &= ~BM(pin);
 456:../../../src/platform/firefly2_2/source/ulib.c **** }
 457:../../../src/platform/firefly2_2/source/ulib.c **** */
 458:../../../src/platform/firefly2_2/source/ulib.c **** 
 459:../../../src/platform/firefly2_2/source/ulib.c **** void putc0(char x)
 460:../../../src/platform/firefly2_2/source/ulib.c **** {
 1625               	.LM129:
 1626               	.LFBB16:
 1627               	/* prologue: function */
 1628               	/* frame size = 0 */
 1629               	.L157:
 461:../../../src/platform/firefly2_2/source/ulib.c ****      UART0_WAIT_AND_SEND(x);
 1631               	.LM130:
 1632 0798 9091 C000 		lds r25,192
 1633 079c 95FF      		sbrs r25,5
 1634 079e 00C0      		rjmp .L157
 1635 07a0 9091 C000 		lds r25,192
 1636 07a4 9F7D      		andi r25,lo8(-33)
 1637 07a6 9093 C000 		sts 192,r25
 1638 07aa 8093 C600 		sts 198,r24
 1639               	/* epilogue start */
 462:../../../src/platform/firefly2_2/source/ulib.c **** }
 1641               	.LM131:
 1642 07ae 0895      		ret
 1644               	.Lscope16:
 1646               		.stabd	78,0,0
 1649               	.global	putc1
 1651               	putc1:
 1652               		.stabd	46,0,0
 463:../../../src/platform/firefly2_2/source/ulib.c **** 
 464:../../../src/platform/firefly2_2/source/ulib.c **** void putc1(char x)
 465:../../../src/platform/firefly2_2/source/ulib.c **** {
 1654               	.LM132:
 1655               	.LFBB17:
 1656               	/* prologue: function */
 1657               	/* frame size = 0 */
 1658               	.L161:
 466:../../../src/platform/firefly2_2/source/ulib.c ****      UART1_WAIT_AND_SEND(x);
 1660               	.LM133:
 1661 07b0 9091 C800 		lds r25,200
 1662 07b4 95FF      		sbrs r25,5
 1663 07b6 00C0      		rjmp .L161
 1664 07b8 8093 CE00 		sts 206,r24
 1665               	/* epilogue start */
 467:../../../src/platform/firefly2_2/source/ulib.c **** }
 1667               	.LM134:
 1668 07bc 0895      		ret
 1670               	.Lscope17:
 1672               		.stabd	78,0,0
 1674               	.global	setup_uart0
 1676               	setup_uart0:
 1677               		.stabd	46,0,0
 468:../../../src/platform/firefly2_2/source/ulib.c **** 
 469:../../../src/platform/firefly2_2/source/ulib.c **** void setup_uart0(uint16_t baudrate)
 470:../../../src/platform/firefly2_2/source/ulib.c **** {
 1679               	.LM135:
 1680               	.LFBB18:
 1681               	/* prologue: function */
 1682               	/* frame size = 0 */
 471:../../../src/platform/firefly2_2/source/ulib.c **** //INIT_UART1( UART_BAUDRATE_115K2, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_B
 472:../../../src/platform/firefly2_2/source/ulib.c **** INIT_UART0( baudrate, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_BIT));
 1684               	.LM136:
 1685 07be 9093 C500 		sts 197,r25
 1686 07c2 8093 C400 		sts 196,r24
 1687 07c6 86E0      		ldi r24,lo8(6)
 1688 07c8 8093 C200 		sts 194,r24
 1689 07cc E1EC      		ldi r30,lo8(193)
 1690 07ce F0E0      		ldi r31,hi8(193)
 1691 07d0 8081      		ld r24,Z
 1692 07d2 8B7F      		andi r24,lo8(-5)
 1693 07d4 8083      		st Z,r24
 1694 07d6 A0EC      		ldi r26,lo8(192)
 1695 07d8 B0E0      		ldi r27,hi8(192)
 1696 07da 8C91      		ld r24,X
 1697 07dc 8260      		ori r24,lo8(2)
 1698 07de 8C93      		st X,r24
 473:../../../src/platform/firefly2_2/source/ulib.c **** ENABLE_UART0();
 1700               	.LM137:
 1701 07e0 8081      		ld r24,Z
 1702 07e2 8861      		ori r24,lo8(24)
 1703 07e4 8083      		st Z,r24
 1704               	/* epilogue start */
 474:../../../src/platform/firefly2_2/source/ulib.c **** }
 1706               	.LM138:
 1707 07e6 0895      		ret
 1709               	.Lscope18:
 1711               		.stabd	78,0,0
 1713               	.global	setup_uart1
 1715               	setup_uart1:
 1716               		.stabd	46,0,0
 475:../../../src/platform/firefly2_2/source/ulib.c **** 
 476:../../../src/platform/firefly2_2/source/ulib.c **** void setup_uart1(uint16_t baudrate)
 477:../../../src/platform/firefly2_2/source/ulib.c **** {
 1718               	.LM139:
 1719               	.LFBB19:
 1720               	/* prologue: function */
 1721               	/* frame size = 0 */
 478:../../../src/platform/firefly2_2/source/ulib.c **** //INIT_UART1( UART_BAUDRATE_115K2, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_B
 479:../../../src/platform/firefly2_2/source/ulib.c **** INIT_UART1( baudrate, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_BIT));
 1723               	.LM140:
 1724 07e8 9093 CD00 		sts 205,r25
 1725 07ec 8093 CC00 		sts 204,r24
 1726 07f0 86E0      		ldi r24,lo8(6)
 1727 07f2 8093 CA00 		sts 202,r24
 1728 07f6 E9EC      		ldi r30,lo8(201)
 1729 07f8 F0E0      		ldi r31,hi8(201)
 1730 07fa 8081      		ld r24,Z
 1731 07fc 8B7F      		andi r24,lo8(-5)
 1732 07fe 8083      		st Z,r24
 1733 0800 A8EC      		ldi r26,lo8(200)
 1734 0802 B0E0      		ldi r27,hi8(200)
 1735 0804 8C91      		ld r24,X
 1736 0806 8260      		ori r24,lo8(2)
 1737 0808 8C93      		st X,r24
 480:../../../src/platform/firefly2_2/source/ulib.c **** ENABLE_UART1();
 1739               	.LM141:
 1740 080a 8081      		ld r24,Z
 1741 080c 8861      		ori r24,lo8(24)
 1742 080e 8083      		st Z,r24
 1743               	/* epilogue start */
 481:../../../src/platform/firefly2_2/source/ulib.c **** }
 1745               	.LM142:
 1746 0810 0895      		ret
 1748               	.Lscope19:
 1750               		.stabd	78,0,0
 1752               	.global	getc0
 1754               	getc0:
 1755               		.stabd	46,0,0
 482:../../../src/platform/firefly2_2/source/ulib.c **** 
 483:../../../src/platform/firefly2_2/source/ulib.c **** 
 484:../../../src/platform/firefly2_2/source/ulib.c **** 
 485:../../../src/platform/firefly2_2/source/ulib.c **** /**
 486:../../../src/platform/firefly2_2/source/ulib.c ****  * nrk_setup_uart()
 487:../../../src/platform/firefly2_2/source/ulib.c ****  *
 488:../../../src/platform/firefly2_2/source/ulib.c ****  * Sets a default uart for a given platform and
 489:../../../src/platform/firefly2_2/source/ulib.c ****  * direct stdin and stdout to that port.
 490:../../../src/platform/firefly2_2/source/ulib.c ****  *
 491:../../../src/platform/firefly2_2/source/ulib.c ****  * More advanced UART usage will require manually
 492:../../../src/platform/firefly2_2/source/ulib.c ****  * setting parameters.
 493:../../../src/platform/firefly2_2/source/ulib.c ****  */
 494:../../../src/platform/firefly2_2/source/ulib.c **** void nrk_setup_uart(uint16_t baudrate)
 495:../../../src/platform/firefly2_2/source/ulib.c **** {
 496:../../../src/platform/firefly2_2/source/ulib.c **** 
 497:../../../src/platform/firefly2_2/source/ulib.c ****   setup_uart1(baudrate);
 498:../../../src/platform/firefly2_2/source/ulib.c ****   //setup_uart0(baudrate);
 499:../../../src/platform/firefly2_2/source/ulib.c **** 
 500:../../../src/platform/firefly2_2/source/ulib.c ****   stdout = fdevopen( (void *)putc1, (void *)getc1);
 501:../../../src/platform/firefly2_2/source/ulib.c ****   stdin = fdevopen( (void *)putc1, (void *)getc1);
 502:../../../src/platform/firefly2_2/source/ulib.c **** 
 503:../../../src/platform/firefly2_2/source/ulib.c **** #ifdef NRK_UART_BUF
 504:../../../src/platform/firefly2_2/source/ulib.c ****    uart_rx_signal=nrk_signal_create();
 505:../../../src/platform/firefly2_2/source/ulib.c ****    if(uart_rx_signal==NRK_ERROR) nrk_error_add(NRK_SIGNAL_CREATE_ERROR);
 506:../../../src/platform/firefly2_2/source/ulib.c ****    uart_rx_buf_start=0;
 507:../../../src/platform/firefly2_2/source/ulib.c ****    uart_rx_buf_end=0;
 508:../../../src/platform/firefly2_2/source/ulib.c ****    ENABLE_UART1_RX_INT();
 509:../../../src/platform/firefly2_2/source/ulib.c **** #endif
 510:../../../src/platform/firefly2_2/source/ulib.c **** 
 511:../../../src/platform/firefly2_2/source/ulib.c **** }
 512:../../../src/platform/firefly2_2/source/ulib.c **** 
 513:../../../src/platform/firefly2_2/source/ulib.c **** 
 514:../../../src/platform/firefly2_2/source/ulib.c **** 
 515:../../../src/platform/firefly2_2/source/ulib.c **** /* get one char from uart */
 516:../../../src/platform/firefly2_2/source/ulib.c **** char getc0(void){
 1757               	.LM143:
 1758               	.LFBB20:
 1759               	/* prologue: function */
 1760               	/* frame size = 0 */
 1761               	.L169:
 517:../../../src/platform/firefly2_2/source/ulib.c **** 	unsigned char tmp;
 518:../../../src/platform/firefly2_2/source/ulib.c **** 	UART0_WAIT_AND_RECEIVE(tmp);
 1763               	.LM144:
 1764 0812 8091 C000 		lds r24,192
 1765 0816 87FF      		sbrs r24,7
 1766 0818 00C0      		rjmp .L169
 1767 081a 8091 C000 		lds r24,192
 1768 081e 8F77      		andi r24,lo8(127)
 1769 0820 8093 C000 		sts 192,r24
 1770 0824 8091 C600 		lds r24,198
 1771               	/* epilogue start */
 519:../../../src/platform/firefly2_2/source/ulib.c **** 	return tmp;
 520:../../../src/platform/firefly2_2/source/ulib.c **** }
 1773               	.LM145:
 1774 0828 0895      		ret
 1779               	.Lscope20:
 1781               		.stabd	78,0,0
 1784               	.global	nrk_setup_uart
 1786               	nrk_setup_uart:
 1787               		.stabd	46,0,0
 1789               	.LM146:
 1790               	.LFBB21:
 1791 082a 0F93      		push r16
 1792 082c 1F93      		push r17
 1793 082e CF93      		push r28
 1794 0830 DF93      		push r29
 1795               	/* prologue: function */
 1796               	/* frame size = 0 */
 1798               	.LM147:
 1799 0832 0E94 0000 		call setup_uart1
 1801               	.LM148:
 1802 0836 00E0      		ldi r16,lo8(gs(putc1))
 1803 0838 10E0      		ldi r17,hi8(gs(putc1))
 1804 083a C0E0      		ldi r28,lo8(gs(getc1))
 1805 083c D0E0      		ldi r29,hi8(gs(getc1))
 1806 083e C801      		movw r24,r16
 1807 0840 BE01      		movw r22,r28
 1808 0842 0E94 0000 		call fdevopen
 1809 0846 9093 0000 		sts (__iob+2)+1,r25
 1810 084a 8093 0000 		sts __iob+2,r24
 1812               	.LM149:
 1813 084e C801      		movw r24,r16
 1814 0850 BE01      		movw r22,r28
 1815 0852 0E94 0000 		call fdevopen
 1816 0856 9093 0000 		sts (__iob)+1,r25
 1817 085a 8093 0000 		sts __iob,r24
 1818               	/* epilogue start */
 1820               	.LM150:
 1821 085e DF91      		pop r29
 1822 0860 CF91      		pop r28
 1823 0862 1F91      		pop r17
 1824 0864 0F91      		pop r16
 1825 0866 0895      		ret
 1827               	.Lscope21:
 1829               		.stabd	78,0,0
 1832               	.global	nrk_kprintf
 1834               	nrk_kprintf:
 1835               		.stabd	46,0,0
 1837               	.LM151:
 1838               	.LFBB22:
 1839 0868 CF93      		push r28
 1840 086a DF93      		push r29
 1841               	/* prologue: function */
 1842               	/* frame size = 0 */
 1843 086c EC01      		movw r28,r24
 1845               	.LM152:
 1846 086e 00C0      		rjmp .L175
 1847               	.L176:
 1849               	.LM153:
 1850 0870 6091 0000 		lds r22,__iob+2
 1851 0874 7091 0000 		lds r23,(__iob+2)+1
 1852 0878 90E0      		ldi r25,lo8(0)
 1853 087a 0E94 0000 		call fputc
 1854               	.L175:
 1855 087e FE01      		movw r30,r28
 1856               	.LBB2:
 1858               	.LM154:
 1859 0880 2196      		adiw r28,1
 1860               	/* #APP */
 1861               	 ;  138 "../../../src/platform/firefly2_2/source/ulib.c" 1
 1862 0882 8491      		lpm r24, Z
 1863               		
 1864               	 ;  0 "" 2
 1865               	/* #NOAPP */
 1866               	.LBE2:
 1867 0884 8823      		tst r24
 1868 0886 01F4      		brne .L176
 1869               	/* epilogue start */
 1871               	.LM155:
 1872 0888 DF91      		pop r29
 1873 088a CF91      		pop r28
 1874 088c 0895      		ret
 1880               	.Lscope22:
 1882               		.stabd	78,0,0
 1883               	.global	NRK_DEBUG_0
 1884               		.data
 1887               	NRK_DEBUG_0:
 1888 0000 18        		.byte	24
 1889               	.global	NRK_DEBUG_1
 1892               	NRK_DEBUG_1:
 1893 0001 20        		.byte	32
 1894               	.global	NRK_BUTTON
 1897               	NRK_BUTTON:
 1898 0002 38        		.byte	56
 1899               	.global	NRK_SPI_SS
 1902               	NRK_SPI_SS:
 1903 0003 01        		.byte	1
 1904               	.global	NRK_SCK
 1907               	NRK_SCK:
 1908 0004 09        		.byte	9
 1909               	.global	NRK_MOSI
 1912               	NRK_MOSI:
 1913 0005 11        		.byte	17
 1914               	.global	NRK_MISO
 1917               	NRK_MISO:
 1918 0006 19        		.byte	25
 1919               	.global	NRK_GPIO26
 1922               	NRK_GPIO26:
 1923 0007 21        		.byte	33
 1924               	.global	NRK_MMC_11
 1927               	NRK_MMC_11:
 1928 0008 29        		.byte	41
 1929               	.global	NRK_MMC_10
 1932               	NRK_MMC_10:
 1933 0009 31        		.byte	49
 1934               	.global	NRK_MMC_9
 1937               	NRK_MMC_9:
 1938 000a 39        		.byte	57
 1939               	.global	NRK_DEBUG_2
 1942               	NRK_DEBUG_2:
 1943 000b 03        		.byte	3
 1944               	.global	NRK_DEBUG_3
 1947               	NRK_DEBUG_3:
 1948 000c 0B        		.byte	11
 1949               	.global	NRK_UART1_RXD
 1952               	NRK_UART1_RXD:
 1953 000d 13        		.byte	19
 1954               	.global	NRK_UART1_TXD
 1957               	NRK_UART1_TXD:
 1958 000e 1B        		.byte	27
 1959               	.global	NRK_CCA
 1962               	NRK_CCA:
 1963 000f 23        		.byte	35
 1964               	.global	NRK_SFD
 1967               	NRK_SFD:
 1968 0010 33        		.byte	51
 1969               	.global	NRK_UART0_RXD
 1972               	NRK_UART0_RXD:
 1973 0011 04        		.byte	4
 1974               	.global	NRK_UART0_TXD
 1977               	NRK_UART0_TXD:
 1978 0012 0C        		.byte	12
 1979               	.global	NRK_LED_0
 1982               	NRK_LED_0:
 1983 0013 14        		.byte	20
 1984               	.global	NRK_LED_1
 1987               	NRK_LED_1:
 1988 0014 1C        		.byte	28
 1989               	.global	NRK_LED_2
 1992               	NRK_LED_2:
 1993 0015 24        		.byte	36
 1994               	.global	NRK_LED_3
 1997               	NRK_LED_3:
 1998 0016 2C        		.byte	44
 1999               	.global	NRK_GPIO34
 2002               	NRK_GPIO34:
 2003 0017 34        		.byte	52
 2004               	.global	NRK_FIFOP
 2007               	NRK_FIFOP:
 2008 0018 3C        		.byte	60
 2009               	.global	NRK_ADC_INPUT_0
 2012               	NRK_ADC_INPUT_0:
 2013 0019 05        		.byte	5
 2014               	.global	NRK_ADC_INPUT_1
 2017               	NRK_ADC_INPUT_1:
 2018 001a 0D        		.byte	13
 2019               	.global	NRK_ADC_INPUT_2
 2022               	NRK_ADC_INPUT_2:
 2023 001b 15        		.byte	21
 2024               	.global	NRK_ADC_INPUT_3
 2027               	NRK_ADC_INPUT_3:
 2028 001c 1D        		.byte	29
 2029               	.global	NRK_ADC_INPUT_4
 2032               	NRK_ADC_INPUT_4:
 2033 001d 25        		.byte	37
 2034               	.global	NRK_ADC_INPUT_5
 2037               	NRK_ADC_INPUT_5:
 2038 001e 2D        		.byte	45
 2039               	.global	NRK_ADC_INPUT_6
 2042               	NRK_ADC_INPUT_6:
 2043 001f 35        		.byte	53
 2044               	.global	NRK_ADC_INPUT_7
 2047               	NRK_ADC_INPUT_7:
 2048 0020 3D        		.byte	61
 2049               		.comm _nrk_signal_list,4,1
 2050               		.comm error_task,1,1
 2051               		.comm error_num,1,1
 2088               		.text
 2090               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 ulib.c
     /tmp/ccfSL9Sh.s:2      *ABS*:0000003f __SREG__
     /tmp/ccfSL9Sh.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccfSL9Sh.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccfSL9Sh.s:5      *ABS*:00000000 __tmp_reg__
     /tmp/ccfSL9Sh.s:6      *ABS*:00000001 __zero_reg__
     /tmp/ccfSL9Sh.s:119    .text:00000000 nrk_uart_rx_signal_get
     /tmp/ccfSL9Sh.s:139    .text:00000004 nrk_uart_data_ready
     /tmp/ccfSL9Sh.s:181    .text:00000028 getc1
     /tmp/ccfSL9Sh.s:212    .text:00000040 PORT_INIT
     /tmp/ccfSL9Sh.s:268    .text:00000066 nrk_setup_ports
     /tmp/ccfSL9Sh.s:296    .text:00000074 nrk_gpio_set
     /tmp/ccfSL9Sh.s:456    .text:00000160 nrk_gpio_clr
     /tmp/ccfSL9Sh.s:627    .text:00000262 nrk_gpio_get
     /tmp/ccfSL9Sh.s:723    .text:000002ce nrk_gpio_toggle
     /tmp/ccfSL9Sh.s:1051   .text:000004c2 nrk_gpio_direction
     /tmp/ccfSL9Sh.s:1391   .text:000006ce nrk_get_button
     /tmp/ccfSL9Sh.s:1423   .text:000006e2 nrk_led_toggle
     /tmp/ccfSL9Sh.s:1478   .text:00000718 nrk_led_clr
     /tmp/ccfSL9Sh.s:1533   .text:0000074e nrk_led_set
     /tmp/ccfSL9Sh.s:1588   .text:00000784 nrk_gpio_pullups
     /tmp/ccfSL9Sh.s:1622   .text:00000798 putc0
     /tmp/ccfSL9Sh.s:1651   .text:000007b0 putc1
     /tmp/ccfSL9Sh.s:1676   .text:000007be setup_uart0
     /tmp/ccfSL9Sh.s:1715   .text:000007e8 setup_uart1
     /tmp/ccfSL9Sh.s:1754   .text:00000812 getc0
     /tmp/ccfSL9Sh.s:1786   .text:0000082a nrk_setup_uart
     /tmp/ccfSL9Sh.s:1834   .text:00000868 nrk_kprintf
     /tmp/ccfSL9Sh.s:1887   .data:00000000 NRK_DEBUG_0
     /tmp/ccfSL9Sh.s:1892   .data:00000001 NRK_DEBUG_1
     /tmp/ccfSL9Sh.s:1897   .data:00000002 NRK_BUTTON
     /tmp/ccfSL9Sh.s:1902   .data:00000003 NRK_SPI_SS
     /tmp/ccfSL9Sh.s:1907   .data:00000004 NRK_SCK
     /tmp/ccfSL9Sh.s:1912   .data:00000005 NRK_MOSI
     /tmp/ccfSL9Sh.s:1917   .data:00000006 NRK_MISO
     /tmp/ccfSL9Sh.s:1922   .data:00000007 NRK_GPIO26
     /tmp/ccfSL9Sh.s:1927   .data:00000008 NRK_MMC_11
     /tmp/ccfSL9Sh.s:1932   .data:00000009 NRK_MMC_10
     /tmp/ccfSL9Sh.s:1937   .data:0000000a NRK_MMC_9
     /tmp/ccfSL9Sh.s:1942   .data:0000000b NRK_DEBUG_2
     /tmp/ccfSL9Sh.s:1947   .data:0000000c NRK_DEBUG_3
     /tmp/ccfSL9Sh.s:1952   .data:0000000d NRK_UART1_RXD
     /tmp/ccfSL9Sh.s:1957   .data:0000000e NRK_UART1_TXD
     /tmp/ccfSL9Sh.s:1962   .data:0000000f NRK_CCA
     /tmp/ccfSL9Sh.s:1967   .data:00000010 NRK_SFD
     /tmp/ccfSL9Sh.s:1972   .data:00000011 NRK_UART0_RXD
     /tmp/ccfSL9Sh.s:1977   .data:00000012 NRK_UART0_TXD
     /tmp/ccfSL9Sh.s:1982   .data:00000013 NRK_LED_0
     /tmp/ccfSL9Sh.s:1987   .data:00000014 NRK_LED_1
     /tmp/ccfSL9Sh.s:1992   .data:00000015 NRK_LED_2
     /tmp/ccfSL9Sh.s:1997   .data:00000016 NRK_LED_3
     /tmp/ccfSL9Sh.s:2002   .data:00000017 NRK_GPIO34
     /tmp/ccfSL9Sh.s:2007   .data:00000018 NRK_FIFOP
     /tmp/ccfSL9Sh.s:2012   .data:00000019 NRK_ADC_INPUT_0
     /tmp/ccfSL9Sh.s:2017   .data:0000001a NRK_ADC_INPUT_1
     /tmp/ccfSL9Sh.s:2022   .data:0000001b NRK_ADC_INPUT_2
     /tmp/ccfSL9Sh.s:2027   .data:0000001c NRK_ADC_INPUT_3
     /tmp/ccfSL9Sh.s:2032   .data:0000001d NRK_ADC_INPUT_4
     /tmp/ccfSL9Sh.s:2037   .data:0000001e NRK_ADC_INPUT_5
     /tmp/ccfSL9Sh.s:2042   .data:0000001f NRK_ADC_INPUT_6
     /tmp/ccfSL9Sh.s:2047   .data:00000020 NRK_ADC_INPUT_7
                            *COM*:00000004 _nrk_signal_list
                            *COM*:00000001 error_task
                            *COM*:00000001 error_num

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
fdevopen
__iob
fputc
